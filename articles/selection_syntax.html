<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>A quick summary of selection syntax in `{datawizard}` • datawizard</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="48x48" href="../favicon-48x48.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../lightswitch.js"></script><script src="../katex-auto.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><link href="../deps/KaTex-0.16.10/katex.min.css" rel="stylesheet">
<script src="../deps/KaTex-0.16.10/katex.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="A quick summary of selection syntax in `{datawizard}`">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">datawizard</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html" aria-label="Reference"><span class="fa fa-file-code"></span> Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html" aria-label="Articles"><span class="fa fa-book-reader"></span> Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html" aria-label="News"><span class="fa fa-newspaper"></span> News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-easystats" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="easystats"><span class="fa fab fa-r-project"></span> easystats</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-easystats">
<li><a class="external-link dropdown-item" href="https://easystats.github.io/bayestestR/">bayestestR</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/correlation/">correlation</a></li>
    <li><a class="dropdown-item" href="https://easystats.github.io/datawizard/">datawizard</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/easystats/">easystats</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/effectsize/">effectsize</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/insight/">insight</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/modelbased/">modelbased</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/performance/">performance</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/parameters/">parameters</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/report/">report</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/see/">see</a></li>
  </ul>
</li>
<li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/easystats4u" aria-label="Twitter"><span class="fa fa-twitter"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/easystats/datawizard/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>A quick summary of selection syntax in `{datawizard}`</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/easystats/datawizard/blob/main/vignettes/selection_syntax.Rmd" class="external-link"><code>vignettes/selection_syntax.Rmd</code></a></small>
      <div class="d-none name"><code>selection_syntax.Rmd</code></div>
    </div>

    
    
<style type="text/css">
.custom_note {
  border-left: solid 5px hsl(220, 100%, 30%);
  background-color: hsl(220, 100%, 95%);
  padding: 5px;
  margin-bottom: 10px
}
</style>
<p>This vignette can be referred to by citing the following:</p>
<p>Patil et al., (2022). datawizard: An R Package for Easy Data
Preparation and Statistical Transformations. <em>Journal of Open Source
Software</em>, <em>7</em>(78), 4684, <a href="https://doi.org/10.21105/joss.04684" class="external-link uri">https://doi.org/10.21105/joss.04684</a></p>
<div class="section level2">
<h2 id="selecting-variables">Selecting variables<a class="anchor" aria-label="anchor" href="#selecting-variables"></a>
</h2>
<div class="section level3">
<h3 id="quoted-names">Quoted names<a class="anchor" aria-label="anchor" href="#quoted-names"></a>
</h3>
<p>This is the most simple way to select one or several variables. Just
use a character vector containing variables names, like in base R.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/extract_column_names.html">data_select</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sepal.Length"</span>, <span class="st">"Petal.Width"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Sepal.Length Petal.Width</span></span>
<span><span class="co">#&gt; 1           4.3         0.1</span></span>
<span><span class="co">#&gt; 2           5.0         0.2</span></span>
<span><span class="co">#&gt; 3           7.7         2.2</span></span>
<span><span class="co">#&gt; 4           4.4         0.2</span></span>
<span><span class="co">#&gt; 5           5.9         1.8</span></span>
<span><span class="co">#&gt; 6           6.5         2.0</span></span>
<span><span class="co">#&gt; 7           5.5         1.3</span></span>
<span><span class="co">#&gt; 8           5.5         1.2</span></span>
<span><span class="co">#&gt; 9           5.8         1.9</span></span>
<span><span class="co">#&gt; 10          6.1         1.4</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="unquoted-names">Unquoted names<a class="anchor" aria-label="anchor" href="#unquoted-names"></a>
</h3>
<p>It is also possible to use unquoted names. This is useful if we use
the <code>tidyverse</code> and want to be consistent about the way
variable names are passed.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris</span> <span class="op"><a href="https://nathaneastwood.github.io/poorman/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://nathaneastwood.github.io/poorman/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">Species</span><span class="op">)</span> <span class="op"><a href="https://nathaneastwood.github.io/poorman/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/standardize.html">standardise</a></span><span class="op">(</span><span class="va">Petal.Length</span><span class="op">)</span> <span class="op"><a href="https://nathaneastwood.github.io/poorman/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://nathaneastwood.github.io/poorman/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 5</span></span></span>
<span><span class="co">#&gt;    Sepal.Length Sepal.Width Petal.Length Petal.Width Species   </span></span>
<span><span class="co">#&gt;           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>          4.3         3         -<span style="color: #BB0000;">1.09</span>          0.1 setosa    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>          5           3.3        0.873         0.2 setosa    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>          7.7         3.8        1.50          2.2 virginica </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>          4.4         3.2        0.218         0.2 setosa    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>          5.9         3         -<span style="color: #BB0000;">0.542</span>         1.8 virginica </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>          6.5         3         -<span style="color: #BB0000;">0.414</span>         2   virginica </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>          5.5         2.5       -<span style="color: #BB0000;">1.09</span>          1.3 versicolor</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>          5.5         2.6        0.218         1.2 versicolor</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>          5.8         2.7       -<span style="color: #BB0000;">0.542</span>         1.9 virginica </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>          6.1         3          0.873         1.4 versicolor</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="positions">Positions<a class="anchor" aria-label="anchor" href="#positions"></a>
</h3>
<p>In addition to variable names, <code>select</code> can also take
indices for the variables to select in the dataframe.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/extract_column_names.html">data_select</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Sepal.Length Sepal.Width    Species</span></span>
<span><span class="co">#&gt; 1           4.3         3.0     setosa</span></span>
<span><span class="co">#&gt; 2           5.0         3.3     setosa</span></span>
<span><span class="co">#&gt; 3           7.7         3.8  virginica</span></span>
<span><span class="co">#&gt; 4           4.4         3.2     setosa</span></span>
<span><span class="co">#&gt; 5           5.9         3.0  virginica</span></span>
<span><span class="co">#&gt; 6           6.5         3.0  virginica</span></span>
<span><span class="co">#&gt; 7           5.5         2.5 versicolor</span></span>
<span><span class="co">#&gt; 8           5.5         2.6 versicolor</span></span>
<span><span class="co">#&gt; 9           5.8         2.7  virginica</span></span>
<span><span class="co">#&gt; 10          6.1         3.0 versicolor</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a>
</h3>
<p>We can also pass a function to the <code>select</code> argument. This
function will be applied to all columns and should return
<code>TRUE</code> or <code>FALSE</code>. For example, if we want to keep
only numeric columns, we can use <code>is.numeric</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/extract_column_names.html">data_select</a></span><span class="op">(</span><span class="va">iris</span>, <span class="va">is.numeric</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Sepal.Length Sepal.Width Petal.Length Petal.Width</span></span>
<span><span class="co">#&gt; 1           4.3         3.0          1.1         0.1</span></span>
<span><span class="co">#&gt; 2           5.0         3.3          1.4         0.2</span></span>
<span><span class="co">#&gt; 3           7.7         3.8          6.7         2.2</span></span>
<span><span class="co">#&gt; 4           4.4         3.2          1.3         0.2</span></span>
<span><span class="co">#&gt; 5           5.9         3.0          5.1         1.8</span></span>
<span><span class="co">#&gt; 6           6.5         3.0          5.2         2.0</span></span>
<span><span class="co">#&gt; 7           5.5         2.5          4.0         1.3</span></span>
<span><span class="co">#&gt; 8           5.5         2.6          4.4         1.2</span></span>
<span><span class="co">#&gt; 9           5.8         2.7          5.1         1.9</span></span>
<span><span class="co">#&gt; 10          6.1         3.0          4.6         1.4</span></span></code></pre></div>
<p>Note that we can provide any custom function to <code>select</code>,
<em>provided it returns <code>TRUE</code> or <code>FALSE</code></em>
when applied to a column.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">is.numeric</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">i</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">3.5</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="../reference/extract_column_names.html">data_select</a></span><span class="op">(</span><span class="va">iris</span>, <span class="va">my_function</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Sepal.Length Petal.Length</span></span>
<span><span class="co">#&gt; 1           4.3          1.1</span></span>
<span><span class="co">#&gt; 2           5.0          1.4</span></span>
<span><span class="co">#&gt; 3           7.7          6.7</span></span>
<span><span class="co">#&gt; 4           4.4          1.3</span></span>
<span><span class="co">#&gt; 5           5.9          5.1</span></span>
<span><span class="co">#&gt; 6           6.5          5.2</span></span>
<span><span class="co">#&gt; 7           5.5          4.0</span></span>
<span><span class="co">#&gt; 8           5.5          4.4</span></span>
<span><span class="co">#&gt; 9           5.8          5.1</span></span>
<span><span class="co">#&gt; 10          6.1          4.6</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="patterns">Patterns<a class="anchor" aria-label="anchor" href="#patterns"></a>
</h3>
<p>With larger datasets, it would be tedious to write the names of
variables to select, and it would be fragile to rely on variable
positions as they may change later. To this end, we can use four select
helpers: <code><a href="https://nathaneastwood.github.io/poorman/reference/select_helpers.html" class="external-link">starts_with()</a></code>, <code><a href="https://nathaneastwood.github.io/poorman/reference/select_helpers.html" class="external-link">ends_with()</a></code>,
<code><a href="https://nathaneastwood.github.io/poorman/reference/select_helpers.html" class="external-link">contains()</a></code>, and <code>regex()</code>. The first three can
take several patterns, while <code>regex()</code> takes a single regular
expression.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/extract_column_names.html">data_select</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://nathaneastwood.github.io/poorman/reference/select_helpers.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"Sep"</span>, <span class="st">"Peta"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Sepal.Length Sepal.Width Petal.Length Petal.Width</span></span>
<span><span class="co">#&gt; 1           4.3         3.0          1.1         0.1</span></span>
<span><span class="co">#&gt; 2           5.0         3.3          1.4         0.2</span></span>
<span><span class="co">#&gt; 3           7.7         3.8          6.7         2.2</span></span>
<span><span class="co">#&gt; 4           4.4         3.2          1.3         0.2</span></span>
<span><span class="co">#&gt; 5           5.9         3.0          5.1         1.8</span></span>
<span><span class="co">#&gt; 6           6.5         3.0          5.2         2.0</span></span>
<span><span class="co">#&gt; 7           5.5         2.5          4.0         1.3</span></span>
<span><span class="co">#&gt; 8           5.5         2.6          4.4         1.2</span></span>
<span><span class="co">#&gt; 9           5.8         2.7          5.1         1.9</span></span>
<span><span class="co">#&gt; 10          6.1         3.0          4.6         1.4</span></span>
<span></span>
<span><span class="fu"><a href="../reference/extract_column_names.html">data_select</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://nathaneastwood.github.io/poorman/reference/select_helpers.html" class="external-link">ends_with</a></span><span class="op">(</span><span class="st">"dth"</span>, <span class="st">"ies"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Sepal.Width Petal.Width    Species</span></span>
<span><span class="co">#&gt; 1          3.0         0.1     setosa</span></span>
<span><span class="co">#&gt; 2          3.3         0.2     setosa</span></span>
<span><span class="co">#&gt; 3          3.8         2.2  virginica</span></span>
<span><span class="co">#&gt; 4          3.2         0.2     setosa</span></span>
<span><span class="co">#&gt; 5          3.0         1.8  virginica</span></span>
<span><span class="co">#&gt; 6          3.0         2.0  virginica</span></span>
<span><span class="co">#&gt; 7          2.5         1.3 versicolor</span></span>
<span><span class="co">#&gt; 8          2.6         1.2 versicolor</span></span>
<span><span class="co">#&gt; 9          2.7         1.9  virginica</span></span>
<span><span class="co">#&gt; 10         3.0         1.4 versicolor</span></span>
<span></span>
<span><span class="fu"><a href="../reference/extract_column_names.html">data_select</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://nathaneastwood.github.io/poorman/reference/select_helpers.html" class="external-link">contains</a></span><span class="op">(</span><span class="st">"pal"</span>, <span class="st">"ec"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Sepal.Length Sepal.Width    Species</span></span>
<span><span class="co">#&gt; 1           4.3         3.0     setosa</span></span>
<span><span class="co">#&gt; 2           5.0         3.3     setosa</span></span>
<span><span class="co">#&gt; 3           7.7         3.8  virginica</span></span>
<span><span class="co">#&gt; 4           4.4         3.2     setosa</span></span>
<span><span class="co">#&gt; 5           5.9         3.0  virginica</span></span>
<span><span class="co">#&gt; 6           6.5         3.0  virginica</span></span>
<span><span class="co">#&gt; 7           5.5         2.5 versicolor</span></span>
<span><span class="co">#&gt; 8           5.5         2.6 versicolor</span></span>
<span><span class="co">#&gt; 9           5.8         2.7  virginica</span></span>
<span><span class="co">#&gt; 10          6.1         3.0 versicolor</span></span>
<span></span>
<span><span class="fu"><a href="../reference/extract_column_names.html">data_select</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu">regex</span><span class="op">(</span><span class="st">"^Sep|ies"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Sepal.Length Sepal.Width    Species</span></span>
<span><span class="co">#&gt; 1           4.3         3.0     setosa</span></span>
<span><span class="co">#&gt; 2           5.0         3.3     setosa</span></span>
<span><span class="co">#&gt; 3           7.7         3.8  virginica</span></span>
<span><span class="co">#&gt; 4           4.4         3.2     setosa</span></span>
<span><span class="co">#&gt; 5           5.9         3.0  virginica</span></span>
<span><span class="co">#&gt; 6           6.5         3.0  virginica</span></span>
<span><span class="co">#&gt; 7           5.5         2.5 versicolor</span></span>
<span><span class="co">#&gt; 8           5.5         2.6 versicolor</span></span>
<span><span class="co">#&gt; 9           5.8         2.7  virginica</span></span>
<span><span class="co">#&gt; 10          6.1         3.0 versicolor</span></span></code></pre></div>
<!-- NOTE: use raw HTML so that vignette can compile even if `evaluate_chunk` is FALSE. -->
<!-- See e.g. #527 -->
<div class="custom_note">
<p>
Note: these functions are not exported by <code>datawizard</code> but
are detected and applied internally. This means that they won’t be
detected by autocompletion when we write them.
</p>
</div>
<div class="custom_note">
<p>
Note #2: because these functions are not exported, they will not create
conflicts with the ones that come from the <code>tidyverse</code> and
that have the same name. Therefore, we can still use <code>dplyr</code>
and its friends, it won’t change anything for selection in
<code>datawizard</code> functions!
</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="excluding-variables">Excluding variables<a class="anchor" aria-label="anchor" href="#excluding-variables"></a>
</h2>
<p>What if we want to keep all variables except for a few ones? There
are two ways we can invert our selection.</p>
<p>The first way is to put a minus sign <code>"-"</code> in front of the
<code>select</code> argument.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/extract_column_names.html">data_select</a></span><span class="op">(</span><span class="va">iris</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sepal.Length"</span>, <span class="st">"Petal.Width"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Sepal.Width Petal.Length    Species</span></span>
<span><span class="co">#&gt; 1          3.0          1.1     setosa</span></span>
<span><span class="co">#&gt; 2          3.3          1.4     setosa</span></span>
<span><span class="co">#&gt; 3          3.8          6.7  virginica</span></span>
<span><span class="co">#&gt; 4          3.2          1.3     setosa</span></span>
<span><span class="co">#&gt; 5          3.0          5.1  virginica</span></span>
<span><span class="co">#&gt; 6          3.0          5.2  virginica</span></span>
<span><span class="co">#&gt; 7          2.5          4.0 versicolor</span></span>
<span><span class="co">#&gt; 8          2.6          4.4 versicolor</span></span>
<span><span class="co">#&gt; 9          2.7          5.1  virginica</span></span>
<span><span class="co">#&gt; 10         3.0          4.6 versicolor</span></span>
<span></span>
<span><span class="fu"><a href="../reference/extract_column_names.html">data_select</a></span><span class="op">(</span><span class="va">iris</span>, <span class="op">-</span><span class="fu"><a href="https://nathaneastwood.github.io/poorman/reference/select_helpers.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"Sep"</span>, <span class="st">"Peta"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;       Species</span></span>
<span><span class="co">#&gt; 1      setosa</span></span>
<span><span class="co">#&gt; 2      setosa</span></span>
<span><span class="co">#&gt; 3   virginica</span></span>
<span><span class="co">#&gt; 4      setosa</span></span>
<span><span class="co">#&gt; 5   virginica</span></span>
<span><span class="co">#&gt; 6   virginica</span></span>
<span><span class="co">#&gt; 7  versicolor</span></span>
<span><span class="co">#&gt; 8  versicolor</span></span>
<span><span class="co">#&gt; 9   virginica</span></span>
<span><span class="co">#&gt; 10 versicolor</span></span>
<span></span>
<span><span class="fu"><a href="../reference/extract_column_names.html">data_select</a></span><span class="op">(</span><span class="va">iris</span>, <span class="op">-</span><span class="va">is.numeric</span><span class="op">)</span></span>
<span><span class="co">#&gt;       Species</span></span>
<span><span class="co">#&gt; 1      setosa</span></span>
<span><span class="co">#&gt; 2      setosa</span></span>
<span><span class="co">#&gt; 3   virginica</span></span>
<span><span class="co">#&gt; 4      setosa</span></span>
<span><span class="co">#&gt; 5   virginica</span></span>
<span><span class="co">#&gt; 6   virginica</span></span>
<span><span class="co">#&gt; 7  versicolor</span></span>
<span><span class="co">#&gt; 8  versicolor</span></span>
<span><span class="co">#&gt; 9   virginica</span></span>
<span><span class="co">#&gt; 10 versicolor</span></span></code></pre></div>
<p>Note that if we use numeric indices, we can’t mix negative and
positive values. This means that we have to use
<code>select = -(1:2)</code> if we want to exclude the first two
columns; <code>select = -1:2</code> will <em>not</em> work:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/extract_column_names.html">data_select</a></span><span class="op">(</span><span class="va">iris</span>, <span class="op">-</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Petal.Length Petal.Width    Species</span></span>
<span><span class="co">#&gt; 1           1.1         0.1     setosa</span></span>
<span><span class="co">#&gt; 2           1.4         0.2     setosa</span></span>
<span><span class="co">#&gt; 3           6.7         2.2  virginica</span></span>
<span><span class="co">#&gt; 4           1.3         0.2     setosa</span></span>
<span><span class="co">#&gt; 5           5.1         1.8  virginica</span></span>
<span><span class="co">#&gt; 6           5.2         2.0  virginica</span></span>
<span><span class="co">#&gt; 7           4.0         1.3 versicolor</span></span>
<span><span class="co">#&gt; 8           4.4         1.2 versicolor</span></span>
<span><span class="co">#&gt; 9           5.1         1.9  virginica</span></span>
<span><span class="co">#&gt; 10          4.6         1.4 versicolor</span></span></code></pre></div>
<p>Same thing for variable names:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/extract_column_names.html">data_select</a></span><span class="op">(</span><span class="va">iris</span>, <span class="op">-</span><span class="op">(</span><span class="va">Petal.Length</span><span class="op">:</span><span class="va">Species</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Sepal.Length Sepal.Width</span></span>
<span><span class="co">#&gt; 1           4.3         3.0</span></span>
<span><span class="co">#&gt; 2           5.0         3.3</span></span>
<span><span class="co">#&gt; 3           7.7         3.8</span></span>
<span><span class="co">#&gt; 4           4.4         3.2</span></span>
<span><span class="co">#&gt; 5           5.9         3.0</span></span>
<span><span class="co">#&gt; 6           6.5         3.0</span></span>
<span><span class="co">#&gt; 7           5.5         2.5</span></span>
<span><span class="co">#&gt; 8           5.5         2.6</span></span>
<span><span class="co">#&gt; 9           5.8         2.7</span></span>
<span><span class="co">#&gt; 10          6.1         3.0</span></span></code></pre></div>
<p>The second way is to use the argument <code>exclude</code>. This
argument has the same possibilities as <code>select</code>. Although
this may not be required in most contexts, if we wanted to, we could use
both <code>select</code> and <code>exclude</code> arguments at the same
time.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/extract_column_names.html">data_select</a></span><span class="op">(</span><span class="va">iris</span>, exclude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sepal.Length"</span>, <span class="st">"Petal.Width"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Sepal.Width Petal.Length    Species</span></span>
<span><span class="co">#&gt; 1          3.0          1.1     setosa</span></span>
<span><span class="co">#&gt; 2          3.3          1.4     setosa</span></span>
<span><span class="co">#&gt; 3          3.8          6.7  virginica</span></span>
<span><span class="co">#&gt; 4          3.2          1.3     setosa</span></span>
<span><span class="co">#&gt; 5          3.0          5.1  virginica</span></span>
<span><span class="co">#&gt; 6          3.0          5.2  virginica</span></span>
<span><span class="co">#&gt; 7          2.5          4.0 versicolor</span></span>
<span><span class="co">#&gt; 8          2.6          4.4 versicolor</span></span>
<span><span class="co">#&gt; 9          2.7          5.1  virginica</span></span>
<span><span class="co">#&gt; 10         3.0          4.6 versicolor</span></span>
<span></span>
<span><span class="fu"><a href="../reference/extract_column_names.html">data_select</a></span><span class="op">(</span><span class="va">iris</span>, exclude <span class="op">=</span> <span class="fu"><a href="https://nathaneastwood.github.io/poorman/reference/select_helpers.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"Sep"</span>, <span class="st">"Peta"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;       Species</span></span>
<span><span class="co">#&gt; 1      setosa</span></span>
<span><span class="co">#&gt; 2      setosa</span></span>
<span><span class="co">#&gt; 3   virginica</span></span>
<span><span class="co">#&gt; 4      setosa</span></span>
<span><span class="co">#&gt; 5   virginica</span></span>
<span><span class="co">#&gt; 6   virginica</span></span>
<span><span class="co">#&gt; 7  versicolor</span></span>
<span><span class="co">#&gt; 8  versicolor</span></span>
<span><span class="co">#&gt; 9   virginica</span></span>
<span><span class="co">#&gt; 10 versicolor</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="programming-with-selections">Programming with selections<a class="anchor" aria-label="anchor" href="#programming-with-selections"></a>
</h2>
<p>Since <code>datawizard</code> 0.6.0, it is possible to pass function
arguments and loop indices in <code>select</code> and
<code>exclude</code> arguments. This makes it easier to program with
<code>datawizard</code>.</p>
<p>For example, if we want to let the user decide the selection they
want to use:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">selection</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="../reference/extract_column_names.html">extract_column_names</a></span><span class="op">(</span><span class="va">data</span>, select <span class="op">=</span> <span class="va">selection</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">my_function</span><span class="op">(</span><span class="va">iris</span>, <span class="st">"Sepal.Length"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Sepal.Length"</span></span>
<span><span class="fu">my_function</span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://nathaneastwood.github.io/poorman/reference/select_helpers.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"Sep"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Sepal.Length" "Sepal.Width"</span></span>
<span></span>
<span><span class="va">my_function_2</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">pattern</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="../reference/extract_column_names.html">extract_column_names</a></span><span class="op">(</span><span class="va">data</span>, select <span class="op">=</span> <span class="fu"><a href="https://nathaneastwood.github.io/poorman/reference/select_helpers.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="va">pattern</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">my_function_2</span><span class="op">(</span><span class="va">iris</span>, <span class="st">"Sep"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Sepal.Length" "Sepal.Width"</span></span></code></pre></div>
<p>It is also possible to pass these values in loops, for example if we
have a list of patterns and we want to relocate columns based on these
patterns, one by one:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_iris</span> <span class="op">&lt;-</span> <span class="va">iris</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sep"</span>, <span class="st">"Pet"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">new_iris</span> <span class="op">&lt;-</span> <span class="va">new_iris</span> <span class="op"><a href="https://nathaneastwood.github.io/poorman/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="../reference/data_relocate.html">data_relocate</a></span><span class="op">(</span>select <span class="op">=</span> <span class="fu"><a href="https://nathaneastwood.github.io/poorman/reference/select_helpers.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span>, after <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="va">new_iris</span></span>
<span><span class="co">#&gt;       Species Sepal.Length Sepal.Width Petal.Length Petal.Width</span></span>
<span><span class="co">#&gt; 1      setosa          4.3         3.0          1.1         0.1</span></span>
<span><span class="co">#&gt; 2      setosa          5.0         3.3          1.4         0.2</span></span>
<span><span class="co">#&gt; 3   virginica          7.7         3.8          6.7         2.2</span></span>
<span><span class="co">#&gt; 4      setosa          4.4         3.2          1.3         0.2</span></span>
<span><span class="co">#&gt; 5   virginica          5.9         3.0          5.1         1.8</span></span>
<span><span class="co">#&gt; 6   virginica          6.5         3.0          5.2         2.0</span></span>
<span><span class="co">#&gt; 7  versicolor          5.5         2.5          4.0         1.3</span></span>
<span><span class="co">#&gt; 8  versicolor          5.5         2.6          4.4         1.2</span></span>
<span><span class="co">#&gt; 9   virginica          5.8         2.7          5.1         1.9</span></span>
<span><span class="co">#&gt; 10 versicolor          6.1         3.0          4.6         1.4</span></span></code></pre></div>
<p>In the loop above, all columns starting with <code>"Sep"</code> are
moved at the end of the data frame, and the same thing was made with all
columns starting with <code>"Pet"</code>.</p>
</div>
<div class="section level2">
<h2 id="useful-to-know">Useful to know<a class="anchor" aria-label="anchor" href="#useful-to-know"></a>
</h2>
<div class="section level3">
<h3 id="ignore-the-case">Ignore the case<a class="anchor" aria-label="anchor" href="#ignore-the-case"></a>
</h3>
<p>In every selection that uses variable names, we can ignore the case
in the selection by applying <code>ignore_case = TRUE</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/extract_column_names.html">data_select</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sepal.length"</span>, <span class="st">"petal.width"</span><span class="op">)</span>, ignore_case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Sepal.Length Petal.Width</span></span>
<span><span class="co">#&gt; 1           4.3         0.1</span></span>
<span><span class="co">#&gt; 2           5.0         0.2</span></span>
<span><span class="co">#&gt; 3           7.7         2.2</span></span>
<span><span class="co">#&gt; 4           4.4         0.2</span></span>
<span><span class="co">#&gt; 5           5.9         1.8</span></span>
<span><span class="co">#&gt; 6           6.5         2.0</span></span>
<span><span class="co">#&gt; 7           5.5         1.3</span></span>
<span><span class="co">#&gt; 8           5.5         1.2</span></span>
<span><span class="co">#&gt; 9           5.8         1.9</span></span>
<span><span class="co">#&gt; 10          6.1         1.4</span></span>
<span></span>
<span><span class="fu"><a href="../reference/extract_column_names.html">data_select</a></span><span class="op">(</span><span class="va">iris</span>, <span class="op">~</span> <span class="va">Sepal.length</span> <span class="op">+</span> <span class="va">petal.Width</span>, ignore_case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Sepal.Length Petal.Width</span></span>
<span><span class="co">#&gt; 1           4.3         0.1</span></span>
<span><span class="co">#&gt; 2           5.0         0.2</span></span>
<span><span class="co">#&gt; 3           7.7         2.2</span></span>
<span><span class="co">#&gt; 4           4.4         0.2</span></span>
<span><span class="co">#&gt; 5           5.9         1.8</span></span>
<span><span class="co">#&gt; 6           6.5         2.0</span></span>
<span><span class="co">#&gt; 7           5.5         1.3</span></span>
<span><span class="co">#&gt; 8           5.5         1.2</span></span>
<span><span class="co">#&gt; 9           5.8         1.9</span></span>
<span><span class="co">#&gt; 10          6.1         1.4</span></span>
<span></span>
<span><span class="fu"><a href="../reference/extract_column_names.html">data_select</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://nathaneastwood.github.io/poorman/reference/select_helpers.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"sep"</span>, <span class="st">"peta"</span><span class="op">)</span>, ignore_case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Sepal.Length Sepal.Width Petal.Length Petal.Width</span></span>
<span><span class="co">#&gt; 1           4.3         3.0          1.1         0.1</span></span>
<span><span class="co">#&gt; 2           5.0         3.3          1.4         0.2</span></span>
<span><span class="co">#&gt; 3           7.7         3.8          6.7         2.2</span></span>
<span><span class="co">#&gt; 4           4.4         3.2          1.3         0.2</span></span>
<span><span class="co">#&gt; 5           5.9         3.0          5.1         1.8</span></span>
<span><span class="co">#&gt; 6           6.5         3.0          5.2         2.0</span></span>
<span><span class="co">#&gt; 7           5.5         2.5          4.0         1.3</span></span>
<span><span class="co">#&gt; 8           5.5         2.6          4.4         1.2</span></span>
<span><span class="co">#&gt; 9           5.8         2.7          5.1         1.9</span></span>
<span><span class="co">#&gt; 10          6.1         3.0          4.6         1.4</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="formulas">Formulas<a class="anchor" aria-label="anchor" href="#formulas"></a>
</h3>
<p>It is also possible to use formulas to select variables:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/extract_column_names.html">data_select</a></span><span class="op">(</span><span class="va">iris</span>, <span class="op">~</span> <span class="va">Sepal.Length</span> <span class="op">+</span> <span class="va">Petal.Width</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Sepal.Length Petal.Width</span></span>
<span><span class="co">#&gt; 1           4.3         0.1</span></span>
<span><span class="co">#&gt; 2           5.0         0.2</span></span>
<span><span class="co">#&gt; 3           7.7         2.2</span></span>
<span><span class="co">#&gt; 4           4.4         0.2</span></span>
<span><span class="co">#&gt; 5           5.9         1.8</span></span>
<span><span class="co">#&gt; 6           6.5         2.0</span></span>
<span><span class="co">#&gt; 7           5.5         1.3</span></span>
<span><span class="co">#&gt; 8           5.5         1.2</span></span>
<span><span class="co">#&gt; 9           5.8         1.9</span></span>
<span><span class="co">#&gt; 10          6.1         1.4</span></span></code></pre></div>
<p>This made it easier to use selection in custom functions before
<code>datawizard</code> 0.6.0, and is kept available for backward
compatibility.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://sites.google.com/site/indrajeetspatilmorality/" class="external-link">Indrajeet Patil</a>, <a href="https://www.etiennebacher.com/" class="external-link">Etienne Bacher</a>, <a href="https://dominiquemakowski.github.io/" class="external-link">Dominique Makowski</a>, <a href="https://github.com/strengejacke" class="external-link">Daniel Lüdecke</a>, <a href="https://home.msbstats.info/" class="external-link">Mattan S. Ben-Shachar</a>, <a href="https://wiernik.org/" class="external-link">Brenton M. Wiernik</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer>
</div>





  </body>
</html>
