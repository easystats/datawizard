<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Recode values from one or more variables into a new variable — recode_into • datawizard</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Recode values from one or more variables into a new variable — recode_into"><meta property="og:description" content="This functions recodes values from one or more variables into a new variable.
It is a convenient function to avoid nested ifelse() statements, which
is similar to dplyr::case_when()."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">datawizard</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.11.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/selection_syntax.html">A quick summary of selection syntax in `{datawizard}`</a>
    </li>
    <li>
      <a href="../articles/standardize_data.html">Data Standardization</a>
    </li>
    <li>
      <a href="../articles/tidyverse_translation.html">Coming from 'tidyverse'</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/easystats/datawizard/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Recode values from one or more variables into a new variable</h1>
    <small class="dont-index">Source: <a href="https://github.com/easystats/datawizard/blob/HEAD/R/recode_into.R" class="external-link"><code>R/recode_into.R</code></a></small>
    <div class="hidden name"><code>recode_into.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This functions recodes values from one or more variables into a new variable.
It is a convenient function to avoid nested <code><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse()</a></code> statements, which
is similar to <code><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">dplyr::case_when()</a></code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">recode_into</span><span class="op">(</span></span>
<span>  <span class="va">...</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  default <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  preserve_na <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>...</dt>
<dd><p>A sequence of two-sided formulas, where the left hand side (LHS)
is a logical matching condition that determines which values match this case.
The LHS of this formula is also called "recode pattern" (e.g., in messages).
The right hand side (RHS) indicates the replacement value.</p></dd>


<dt>data</dt>
<dd><p>Optional, name of a data frame. This can be used to avoid writing
the data name multiple times in <code>...</code>. See 'Examples'.</p></dd>


<dt>default</dt>
<dd><p>Indicates the default value that is chosen when no match in
the formulas in <code>...</code> is found. If not provided, <code>NA</code> is used as default
value.</p></dd>


<dt>overwrite</dt>
<dd><p>Logical, if <code>TRUE</code> (default) and more than one recode pattern
apply to the same case, already recoded values will be overwritten by subsequent
recode patterns. If <code>FALSE</code>, former recoded cases will not be altered by later
recode patterns that would apply to those cases again. A warning message is
printed to alert such situations and to avoid unintentional recodings.</p></dd>


<dt>preserve_na</dt>
<dd><p>Logical, if <code>TRUE</code> and <code>default</code> is not <code>NA</code>, missing
values in the original variable will be set back to <code>NA</code> in the recoded
variable (unless overwritten by other recode patterns). If <code>FALSE</code>, missing
values in the original variable will be recoded to <code>default</code>. Setting
<code>preserve_na = TRUE</code> prevents unintentional overwriting of missing values
with <code>default</code>, which means that you won't find valid values where the
original data only had missing values. See 'Examples'.</p></dd>


<dt>verbose</dt>
<dd><p>Toggle warnings.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A vector with recoded values.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">30</span></span></span>
<span class="r-in"><span><span class="fu">recode_into</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">&gt;</span> <span class="fl">15</span> <span class="op">~</span> <span class="st">"a"</span>,</span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">&gt;</span> <span class="fl">10</span> <span class="op">&amp;</span> <span class="va">x</span> <span class="op">&lt;=</span> <span class="fl">15</span> <span class="op">~</span> <span class="st">"b"</span>,</span></span>
<span class="r-in"><span>  default <span class="op">=</span> <span class="st">"c"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "c" "c" "c" "c" "c" "c" "c" "c" "c" "c" "b" "b" "b" "b" "b" "a" "a" "a" "a"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [20] "a" "a" "a" "a" "a" "a" "a" "a" "a" "a" "a"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span></span></span>
<span class="r-in"><span><span class="co"># default behaviour: second recode pattern "x &gt; 5" overwrites</span></span></span>
<span class="r-in"><span><span class="co"># some of the formerly recoded cases from pattern "x &gt;= 3 &amp; x &lt;= 7"</span></span></span>
<span class="r-in"><span><span class="fu">recode_into</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">&gt;=</span> <span class="fl">3</span> <span class="op">&amp;</span> <span class="va">x</span> <span class="op">&lt;=</span> <span class="fl">7</span> <span class="op">~</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">&gt;</span> <span class="fl">5</span> <span class="op">~</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  default <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 0 0 1 1 1 2 2 2 2 2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># setting "overwrite = FALSE" will not alter formerly recoded cases</span></span></span>
<span class="r-in"><span><span class="fu">recode_into</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">&gt;=</span> <span class="fl">3</span> <span class="op">&amp;</span> <span class="va">x</span> <span class="op">&lt;=</span> <span class="fl">7</span> <span class="op">~</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">&gt;</span> <span class="fl">5</span> <span class="op">~</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  default <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 0 0 1 1 1 1 1 2 2 2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">30</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>, <span class="fl">30</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># from different variables into new vector</span></span></span>
<span class="r-in"><span><span class="fu">recode_into</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">d</span><span class="op">$</span><span class="va">x</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span> <span class="op">&amp;</span> <span class="va">d</span><span class="op">$</span><span class="va">y</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span> <span class="op">~</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  <span class="va">d</span><span class="op">$</span><span class="va">x</span> <span class="op">&gt;</span> <span class="fl">3</span> <span class="op">~</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  default <span class="op">=</span> <span class="fl">0</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 1 1 1 0 0 2 2 0 1 1 2 0 0 0 2 1 1 2 1 0 1 1 0 2 0 1 2 2 1 2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># no need to write name of data frame each time</span></span></span>
<span class="r-in"><span><span class="fu">recode_into</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span> <span class="op">&amp;</span> <span class="va">y</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span> <span class="op">~</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">&gt;</span> <span class="fl">3</span> <span class="op">~</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">d</span>,</span></span>
<span class="r-in"><span>  default <span class="op">=</span> <span class="fl">0</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 1 1 1 0 0 2 2 0 1 1 2 0 0 0 2 1 1 2 1 0 1 1 0 2 0 1 2 2 1 2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># handling of missing values</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="cn">NA</span>, <span class="fl">2</span>, <span class="cn">NA</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">11</span>, <span class="fl">3</span>, <span class="cn">NA</span>, <span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># first NA in x is overwritten by valid value from y</span></span></span>
<span class="r-in"><span><span class="co"># we have no known value for second NA in x and y,</span></span></span>
<span class="r-in"><span><span class="co"># thus we get one NA in the result</span></span></span>
<span class="r-in"><span><span class="fu">recode_into</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">&lt;=</span> <span class="fl">3</span> <span class="op">~</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  <span class="va">y</span> <span class="op">&gt;</span> <span class="fl">5</span> <span class="op">~</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">d</span>,</span></span>
<span class="r-in"><span>  default <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  preserve_na <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  1  2  1 NA  1  2</span>
<span class="r-in"><span><span class="co"># first NA in x is overwritten by valid value from y</span></span></span>
<span class="r-in"><span><span class="co"># default value is used for second NA</span></span></span>
<span class="r-in"><span><span class="fu">recode_into</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">&lt;=</span> <span class="fl">3</span> <span class="op">~</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  <span class="va">y</span> <span class="op">&gt;</span> <span class="fl">5</span> <span class="op">~</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">d</span>,</span></span>
<span class="r-in"><span>  default <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  preserve_na <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Missing values in original variable are overwritten by default value. If</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   you want to preserve missing values, set `preserve_na = TRUE`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 2 1 0 1 2</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Indrajeet Patil, Etienne Bacher, Dominique Makowski, Daniel Lüdecke, Mattan S. Ben-Shachar, Brenton M. Wiernik.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

