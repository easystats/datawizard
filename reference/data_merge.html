<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Merge (join) two data frames, or a list of data frames. However, unlike
base R's merge(), data_merge() offers a few more methods to join data
frames, and it does not drop data frame nor column attributes."><title>Merge (join) two data frames, or a list of data frames — data_merge • datawizard</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.2/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.2/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.2/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Merge (join) two data frames, or a list of data frames — data_merge"><meta property="og:description" content="Merge (join) two data frames, or a list of data frames. However, unlike
base R's merge(), data_merge() offers a few more methods to join data
frames, and it does not drop data frame nor column attributes."><meta property="og:image" content="https://easystats.github.io/datawizard/reference/figures/card.png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@easystats4u"><meta name="twitter:site" content="@easystats4u"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">datawizard</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.3.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html" aria-label="Reference">
    <span class="fa fa fa fa-file-code"></span>
     
    Reference
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/index.html" aria-label="Articles">
    <span class="fa fa fa fa-book-reader"></span>
     
    Articles
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html" aria-label="News">
    <span class="fa fa fa fa-newspaper"></span>
     
    News
  </a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--easystats" aria-label="easystats">
    <span class="fab fa fab fa-r-project"></span>
     
    easystats
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--easystats">
    <a class="external-link dropdown-item" href="https://easystats.github.io/bayestestR/">bayestestR</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/correlation/">correlation</a>
    <a class="dropdown-item" href="https://easystats.github.io/datawizard/">datawizard</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/easystats/">easystats</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/effectsize/">effectsize</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/insight/">insight</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/modelbased/">modelbased</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/performance/">performance</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/parameters/">parameters</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/report/">report</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/see/">see</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="http://twitter.com/easystats4u" aria-label="Twitter">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/easystats/datawizard/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Merge (join) two data frames, or a list of data frames</h1>
      <small class="dont-index">Source: <a href="https://github.com/easystats/datawizard/blob/HEAD/R/data_merge.R" class="external-link"><code>R/data_merge.R</code></a></small>
      <div class="d-none name"><code>data_merge.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Merge (join) two data frames, or a list of data frames. However, unlike
base R's <code><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge()</a></code>, <code>data_merge()</code> offers a few more methods to join data
frames, and it does not drop data frame nor column attributes.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">data_merge</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">data_join</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for data.frame</span></span>
<span><span class="fu">data_merge</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, join <span class="op">=</span> <span class="st">"left"</span>, by <span class="op">=</span> <span class="cn">NULL</span>, id <span class="op">=</span> <span class="cn">NULL</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for list</span></span>
<span><span class="fu">data_merge</span><span class="op">(</span><span class="va">x</span>, join <span class="op">=</span> <span class="st">"left"</span>, by <span class="op">=</span> <span class="cn">NULL</span>, id <span class="op">=</span> <span class="cn">NULL</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x, y</dt>
<dd><p>A data frame to merge. <code>x</code> may also be a list of data frames
that will be merged. Note that the list-method has no <code>y</code> argument.</p></dd>


<dt>...</dt>
<dd><p>Not used.</p></dd>


<dt>join</dt>
<dd><p>Character vector, indicating the method of joining the data frames.
Can be <code>"full"</code>, <code>"left"</code> (default), <code>"right"</code>, <code>"inner"</code>, <code>"anti"</code>, <code>"semi"</code>
or <code>"bind"</code>. See details below.</p></dd>


<dt>by</dt>
<dd><p>Specifications of the columns used for merging.</p></dd>


<dt>id</dt>
<dd><p>Optional name for ID column that will be created to indicate the
source data frames for appended rows. Only applies if <code>join = "bind"</code>.</p></dd>


<dt>verbose</dt>
<dd><p>Toggle warnings.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A merged data frame.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    
<div class="section">
<h3 id="merging-data-frames">Merging data frames<a class="anchor" aria-label="anchor" href="#merging-data-frames"></a></h3>
<p>Merging data frames is performed by adding rows (cases), columns
(variables) or both from the source data frame (<code>y</code>) to the target
data frame (<code>x</code>). This usually requires one or more variables which
are included in both data frames and that are used for merging, typically
indicated with the <code>by</code> argument. When <code>by</code> contains a variable present
in both data frames, cases are matched and filtered by identical values
of <code>by</code> in <code>x</code> and <code>y</code>.</p>
</div>

<div class="section">
<h3 id="left-and-right-joins">Left- and right-joins<a class="anchor" aria-label="anchor" href="#left-and-right-joins"></a></h3>
<p>Left- and right joins usually don't add new rows (cases), but only new
columns (variables) for existing cases in <code>x</code>. For <code>join = "left"</code> or
<code>join = "right"</code> to work, <code>by</code> <em>must</em> indicate one or more columns that
are included in both data frames. For <code>join = "left"</code>, if <code>by</code> is an
identifier variable, which is included in both <code>x</code> and <code>y</code>, all variables
from <code>y</code> are copied to <code>x</code>, but only those cases from <code>y</code> that have
matching values in their identifier variable in <code>x</code> (i.e. all cases
in <code>x</code> that are also found in <code>y</code> get the related values from the new
columns in <code>y</code>). If there is no match between identifiers in <code>x</code> and <code>y</code>,
the copied variable from <code>y</code> will get a <code>NA</code> value for this particular
case. Other variables that occur both in <code>x</code> and <code>y</code>, but are not used
as identifiers (with <code>by</code>), will be renamed to avoid multiple identical
variable names. Cases in <code>y</code> where values from the identifier have no
match in <code>x</code>'s identifier are removed. <code>join = "right"</code> works in
a similar way as <code>join = "left"</code>, just that only cases from <code>x</code> that
have matching values in their identifier variable in <code>y</code> are chosen.
<br><br>
In base R, these are equivalent to <code>merge(x, y, all.x = TRUE)</code> and
<code>merge(x, y, all.y = TRUE)</code>.</p>
</div>

<div class="section">
<h3 id="full-joins">Full joins<a class="anchor" aria-label="anchor" href="#full-joins"></a></h3>
<p>Full joins copy all cases from <code>y</code> to <code>x</code>. For matching cases in both
data frames, values for new variables are copied from <code>y</code> to <code>x</code>. For
cases in <code>y</code> not present in <code>x</code>, these will be added as new rows to <code>x</code>.
Thus, full joins not only add new columns (variables), but also might
add new rows (cases).
<br><br>
In base R, this is equivalent to <code>merge(x, y, all = TRUE)</code>.</p>
</div>

<div class="section">
<h3 id="inner-joins">Inner joins<a class="anchor" aria-label="anchor" href="#inner-joins"></a></h3>
<p>Inner joins merge two data frames, however, only those rows (cases) are
kept that are present in both data frames. Thus, inner joins usually
add new columns (variables), but also remove rows (cases) that only
occur in one data frame.
<br><br>
In base R, this is equivalent to <code>merge(x, y)</code>.</p>
</div>

<div class="section">
<h3 id="binds">Binds<a class="anchor" aria-label="anchor" href="#binds"></a></h3>
<p><code>join = "bind"</code> row-binds the complete second data frame <code>y</code> to <code>x</code>.
Unlike simple <code><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind()</a></code>, which requires the same columns for both data
frames, <code>join = "bind"</code> will bind shared columns from <code>y</code> to <code>x</code>, and
add new columns from <code>y</code> to <code>x</code>.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p>Functions to rename stuff: <code><a href="data_rename.html">data_rename()</a></code>, <code><a href="data_rename.html">data_rename_rows()</a></code>, <code><a href="data_rename.html">data_addprefix()</a></code>, <code><a href="data_rename.html">data_addsuffix()</a></code></p></li>
<li><p>Functions to reorder or remove columns: <code><a href="data_relocate.html">data_reorder()</a></code>, <code><a href="data_relocate.html">data_relocate()</a></code>, <code><a href="data_relocate.html">data_remove()</a></code></p></li>
<li><p>Functions to reshape, pivot or rotate data frames: <code><a href="data_to_long.html">data_to_long()</a></code>, <code><a href="data_to_wide.html">data_to_wide()</a></code>, <code><a href="data_rotate.html">data_rotate()</a></code></p></li>
<li><p>Functions to recode data: <code><a href="rescale.html">rescale()</a></code>, <code><a href="reverse.html">reverse()</a></code>, <code><a href="categorize.html">categorize()</a></code>, <code><a href="recode_values.html">recode_values()</a></code>, <code><a href="slide.html">slide()</a></code></p></li>
<li><p>Functions to standardize, normalize, rank-transform: <code><a href="center.html">center()</a></code>, <code><a href="standardize.html">standardize()</a></code>, <code><a href="normalize.html">normalize()</a></code>, <code><a href="ranktransform.html">ranktransform()</a></code>, <code><a href="winsorize.html">winsorize()</a></code></p></li>
<li><p>Split and merge data frames: <code><a href="data_partition.html">data_partition()</a></code>, <code>data_merge()</code></p></li>
<li><p>Functions to find or select columns: <code><a href="find_columns.html">data_select()</a></code>, <code><a href="find_columns.html">data_find()</a></code></p></li>
<li><p>Functions to filter rows: <code><a href="data_match.html">data_match()</a></code>, <code><a href="data_match.html">data_filter()</a></code></p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, b <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span>, c <span class="op">=</span> <span class="fl">5</span><span class="op">:</span><span class="fl">7</span>, id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>c <span class="op">=</span> <span class="fl">6</span><span class="op">:</span><span class="fl">8</span>, d <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"f"</span>, <span class="st">"g"</span>, <span class="st">"h"</span><span class="op">)</span>, e <span class="op">=</span> <span class="fl">100</span><span class="op">:</span><span class="fl">102</span>, id <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">x</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   a b c id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 1 a 5  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 2 b 6  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 3 c 7  3</span>
<span class="r-in"><span><span class="va">y</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   c d   e id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 6 f 100  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 7 g 101  3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 8 h 102  4</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># "by" will default to all shared columns, i.e. "c" and "id". new columns</span></span></span>
<span class="r-in"><span><span class="co"># "d" and "e" will be copied from "y" to "x", but there are only two cases</span></span></span>
<span class="r-in"><span><span class="co"># in "x" that have the same values for "c" and "id" in "y". only those cases</span></span></span>
<span class="r-in"><span><span class="co"># have values in the copied columns, the other case gets "NA".</span></span></span>
<span class="r-in"><span><span class="fu">data_merge</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, join <span class="op">=</span> <span class="st">"left"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   a b c id    d   e</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 1 a 5  1 &lt;NA&gt;  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 2 b 6  2    f 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 3 c 7  3    g 101</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># we change the id-value here</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, b <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span>, c <span class="op">=</span> <span class="fl">5</span><span class="op">:</span><span class="fl">7</span>, id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>c <span class="op">=</span> <span class="fl">6</span><span class="op">:</span><span class="fl">8</span>, d <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"f"</span>, <span class="st">"g"</span>, <span class="st">"h"</span><span class="op">)</span>, e <span class="op">=</span> <span class="fl">100</span><span class="op">:</span><span class="fl">102</span>, id <span class="op">=</span> <span class="fl">3</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">x</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   a b c id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 1 a 5  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 2 b 6  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 3 c 7  3</span>
<span class="r-in"><span><span class="va">y</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   c d   e id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 6 f 100  3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 7 g 101  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 8 h 102  5</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># no cases in "y" have the same matching "c" and "id" as in "x", thus</span></span></span>
<span class="r-in"><span><span class="co"># copied variables from "y" to "x" copy no values, all get NA.</span></span></span>
<span class="r-in"><span><span class="fu">data_merge</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, join <span class="op">=</span> <span class="st">"left"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   a b c id    d  e</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 1 a 5  1 &lt;NA&gt; NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 2 b 6  2 &lt;NA&gt; NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 3 c 7  3 &lt;NA&gt; NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># one case in "y" has a match in "id" with "x", thus values for this</span></span></span>
<span class="r-in"><span><span class="co"># case from the remaining variables in "y" are copied to "x", all other</span></span></span>
<span class="r-in"><span><span class="co"># values (cases) in those remaining variables get NA</span></span></span>
<span class="r-in"><span><span class="fu">data_merge</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, join <span class="op">=</span> <span class="st">"left"</span>, by <span class="op">=</span> <span class="st">"id"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   a b id    d   e c.x c.y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 1 a  1 &lt;NA&gt;  NA   5  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 2 b  2 &lt;NA&gt;  NA   6  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 3 c  3    f 100   7   6</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">mtcars</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">mtcars</span><span class="op">[</span><span class="fl">28</span><span class="op">:</span><span class="fl">32</span>, <span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># add ID common column</span></span></span>
<span class="r-in"><span><span class="va">x</span><span class="op">$</span><span class="va">id</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span></span></span>
<span class="r-in"><span><span class="va">y</span><span class="op">$</span><span class="va">id</span> <span class="op">&lt;-</span> <span class="fl">3</span><span class="op">:</span><span class="fl">7</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># left-join, add new variables and copy values from y to x,</span></span></span>
<span class="r-in"><span><span class="co"># where "id" values match</span></span></span>
<span class="r-in"><span><span class="fu">data_merge</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    mpg cyl disp id  hp drat    wt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 21.0   6  160  1  NA   NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 21.0   6  160  2  NA   NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 22.8   4  108  3 113 3.77 1.513</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 21.4   6  258  4 264 4.22 3.170</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 18.7   8  360  5 175 3.62 2.770</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># right-join, add new variables and copy values from x to y,</span></span></span>
<span class="r-in"><span><span class="co"># where "id" values match</span></span></span>
<span class="r-in"><span><span class="fu">data_merge</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, join <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    mpg cyl disp id  hp drat    wt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 22.8   4  108  3 113 3.77 1.513</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 21.4   6  258  4 264 4.22 3.170</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 18.7   8  360  5 175 3.62 2.770</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   NA  NA   NA  6 335 3.54 3.570</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   NA  NA   NA  7 109 4.11 2.780</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># full-join</span></span></span>
<span class="r-in"><span><span class="fu">data_merge</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, join <span class="op">=</span> <span class="st">"full"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    mpg cyl disp id  hp drat    wt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 21.0   6  160  1  NA   NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 21.0   6  160  2  NA   NA    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 22.8   4  108  3 113 3.77 1.513</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 21.4   6  258  4 264 4.22 3.170</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 18.7   8  360  5 175 3.62 2.770</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   NA  NA   NA  6 335 3.54 3.570</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   NA  NA   NA  7 109 4.11 2.780</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">mtcars</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">mtcars</span><span class="op">[</span><span class="fl">28</span><span class="op">:</span><span class="fl">32</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">4</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># add ID common column</span></span></span>
<span class="r-in"><span><span class="va">x</span><span class="op">$</span><span class="va">id</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span></span></span>
<span class="r-in"><span><span class="va">y</span><span class="op">$</span><span class="va">id</span> <span class="op">&lt;-</span> <span class="fl">3</span><span class="op">:</span><span class="fl">7</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># left-join, no matching rows (because columns "id" and "disp" are used)</span></span></span>
<span class="r-in"><span><span class="co"># new variables get all NA values</span></span></span>
<span class="r-in"><span><span class="fu">data_merge</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    mpg cyl disp id hp drat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 21.0   6  160  1 NA   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 21.0   6  160  2 NA   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 22.8   4  108  3 NA   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 21.4   6  258  4 NA   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 18.7   8  360  5 NA   NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># one common value in "mpg", so one row from y is copied to x</span></span></span>
<span class="r-in"><span><span class="fu">data_merge</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, by <span class="op">=</span> <span class="st">"mpg"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    mpg cyl disp  hp drat id.x id.y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 21.0   6  160  NA   NA    1   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 21.0   6  160  NA   NA    2   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 22.8   4  108  NA   NA    3   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 21.4   6  258 109 4.11    4    7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 18.7   8  360  NA   NA    5   NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># only keep rows with matching values in by-column</span></span></span>
<span class="r-in"><span><span class="fu">data_merge</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, join <span class="op">=</span> <span class="st">"semi"</span>, by <span class="op">=</span> <span class="st">"mpg"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 mpg cyl disp id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet 4 Drive 21.4   6  258  4</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># only keep rows with non-matching values in by-column</span></span></span>
<span class="r-in"><span><span class="fu">data_merge</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, join <span class="op">=</span> <span class="st">"anti"</span>, by <span class="op">=</span> <span class="st">"mpg"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    mpg cyl disp id</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4         21.0   6  160  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mazda RX4 Wag     21.0   6  160  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Datsun 710        22.8   4  108  3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Hornet Sportabout 18.7   8  360  5</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># merge list of data frames. can be of different rows</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">mtcars</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">mtcars</span><span class="op">[</span><span class="fl">28</span><span class="op">:</span><span class="fl">31</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">z</span> <span class="op">&lt;-</span> <span class="va">mtcars</span><span class="op">[</span><span class="fl">11</span><span class="op">:</span><span class="fl">18</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">4</span>, <span class="fl">6</span><span class="op">:</span><span class="fl">8</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">x</span><span class="op">$</span><span class="va">id</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span></span></span>
<span class="r-in"><span><span class="va">y</span><span class="op">$</span><span class="va">id</span> <span class="op">&lt;-</span> <span class="fl">4</span><span class="op">:</span><span class="fl">7</span></span></span>
<span class="r-in"><span><span class="va">z</span><span class="op">$</span><span class="va">id</span> <span class="op">&lt;-</span> <span class="fl">3</span><span class="op">:</span><span class="fl">10</span></span></span>
<span class="r-in"><span><span class="fu">data_merge</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">z</span><span class="op">)</span>, join <span class="op">=</span> <span class="st">"bind"</span>, by <span class="op">=</span> <span class="st">"id"</span>, id <span class="op">=</span> <span class="st">"source"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     mpg cyl  disp id  hp drat    wt  qsec vs source</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  21.0   6 160.0  1  NA   NA    NA    NA NA      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  21.0   6 160.0  2  NA   NA    NA    NA NA      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  22.8   4 108.0  3  NA   NA    NA    NA NA      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  21.4   6 258.0  4  NA   NA    NA    NA NA      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  18.7   8 360.0  5  NA   NA    NA    NA NA      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6    NA  NA  95.1  4 113 3.77    NA    NA NA      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7    NA  NA 351.0  5 264 4.22    NA    NA NA      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8    NA  NA 145.0  6 175 3.62    NA    NA NA      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9    NA  NA 301.0  7 335 3.54    NA    NA NA      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 17.8  NA 167.6  3 123   NA 3.440 18.90  1      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 16.4  NA 275.8  4 180   NA 4.070 17.40  0      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 17.3  NA 275.8  5 180   NA 3.730 17.60  0      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 15.2  NA 275.8  6 180   NA 3.780 18.00  0      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 10.4  NA 472.0  7 205   NA 5.250 17.98  0      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 10.4  NA 460.0  8 215   NA 5.424 17.82  0      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 14.7  NA 440.0  9 230   NA 5.345 17.42  0      3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 32.4  NA  78.7 10  66   NA 2.200 19.47  1      3</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://sites.google.com/site/indrajeetspatilmorality/" class="external-link">Indrajeet Patil</a>, <a href="https://dominiquemakowski.github.io/" class="external-link">Dominique Makowski</a>, <a href="https://github.com/strengejacke" class="external-link">Daniel Lüdecke</a>, <a href="https://home.msbstats.info/" class="external-link">Mattan S. Ben-Shachar</a>, <a href="https://wiernik.org/" class="external-link">Brenton M. Wiernik</a>, <a href="https://www.etiennebacher.com/" class="external-link">Etienne Bacher</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.9000.</p>
</div>

    </footer></div>

  

  

  </body></html>

