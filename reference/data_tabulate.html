<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create frequency and crosstables of variables — data_tabulate • datawizard</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- katex math --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><script src="../katex-auto.js"></script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create frequency and crosstables of variables — data_tabulate"><meta name="description" content="This function creates frequency or crosstables of variables,
including the number of levels/values as well as the distribution of raw,
valid and cumulative percentages. For crosstables, row, column and cell
percentages can be calculated."><meta property="og:description" content="This function creates frequency or crosstables of variables,
including the number of levels/values as well as the distribution of raw,
valid and cumulative percentages. For crosstables, row, column and cell
percentages can be calculated."><meta property="og:image" content="https://easystats.github.io/datawizard/reference/figures/card.png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@easystats4u"><meta name="twitter:site" content="@easystats4u"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">datawizard</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html" aria-label="Reference"><span class="fa fa-file-code"></span> Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html" aria-label="Articles"><span class="fa fa-book-reader"></span> Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html" aria-label="News"><span class="fa fa-newspaper"></span> News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-easystats" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="easystats"><span class="fa fab fa-r-project"></span> easystats</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-easystats"><li><a class="external-link dropdown-item" href="https://easystats.github.io/bayestestR/">bayestestR</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/correlation/">correlation</a></li>
    <li><a class="dropdown-item" href="https://easystats.github.io/datawizard/">datawizard</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/easystats/">easystats</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/effectsize/">effectsize</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/insight/">insight</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/modelbased/">modelbased</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/performance/">performance</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/parameters/">parameters</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/report/">report</a></li>
    <li><a class="external-link dropdown-item" href="https://easystats.github.io/see/">see</a></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/easystats4u" aria-label="Twitter"><span class="fa fa-twitter"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/easystats/datawizard/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create frequency and crosstables of variables</h1>
      <small class="dont-index">Source: <a href="https://github.com/easystats/datawizard/blob/main/R/data_tabulate.R" class="external-link"><code>R/data_tabulate.R</code></a></small>
      <div class="d-none name"><code>data_tabulate.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function creates frequency or crosstables of variables,
including the number of levels/values as well as the distribution of raw,
valid and cumulative percentages. For crosstables, row, column and cell
percentages can be calculated.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">data_tabulate</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default S3 method</span></span>
<span><span class="fu">data_tabulate</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  drop_levels <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  remove_na <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  proportions <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'data.frame'</span></span>
<span><span class="fu">data_tabulate</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  select <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  exclude <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ignore_case <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  regex <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  drop_levels <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  remove_na <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  proportions <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  collapse <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'datawizard_tables'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  row.names <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  optional <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add_total <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'datawizard_table'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">as.table</a></span><span class="op">(</span><span class="va">x</span>, remove_na <span class="op">=</span> <span class="cn">TRUE</span>, simplify <span class="op">=</span> <span class="cn">FALSE</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'datawizard_table'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, big_mark <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'datawizard_table'</span></span>
<span><span class="fu"><a href="https://easystats.github.io/insight/reference/display.html" class="external-link">display</a></span><span class="op">(</span><span class="va">object</span>, big_mark <span class="op">=</span> <span class="cn">NULL</span>, format <span class="op">=</span> <span class="st">"markdown"</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A (grouped) data frame, a vector or factor.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>not used.</p></dd>


<dt id="arg-by">by<a class="anchor" aria-label="anchor" href="#arg-by"></a></dt>
<dd><p>Optional vector or factor. If supplied, a crosstable is created.
If <code>x</code> is a data frame, <code>by</code> can also be a character string indicating the
name of a variable in <code>x</code>.</p></dd>


<dt id="arg-drop-levels">drop_levels<a class="anchor" aria-label="anchor" href="#arg-drop-levels"></a></dt>
<dd><p>Logical, if <code>FALSE</code>, factor levels that do not occur in
the data are included in the table (with frequency of zero), else unused
factor levels are dropped from the frequency table.</p></dd>


<dt id="arg-weights">weights<a class="anchor" aria-label="anchor" href="#arg-weights"></a></dt>
<dd><p>Optional numeric vector of weights. Must be of the same length
as <code>x</code>. If <code>weights</code> is supplied, weighted frequencies are calculated.</p></dd>


<dt id="arg-remove-na">remove_na<a class="anchor" aria-label="anchor" href="#arg-remove-na"></a></dt>
<dd><p>Logical, if <code>FALSE</code>, missing values are included in the
frequency or crosstable, else missing values are omitted. Note that the
default for the <code><a href="https://rdrr.io/r/base/table.html" class="external-link">as.table()</a></code> method is <code>remove_na = TRUE</code>, so that missing
values are not included in the returned table, which makes more sense for
post-processing of the table, e.g. using <code><a href="https://rdrr.io/r/stats/chisq.test.html" class="external-link">chisq.test()</a></code>.</p></dd>


<dt id="arg-proportions">proportions<a class="anchor" aria-label="anchor" href="#arg-proportions"></a></dt>
<dd><p>Optional character string, indicating the type of
percentages to be calculated. Only applies to crosstables, i.e. when <code>by</code> is
not <code>NULL</code>. Can be <code>"row"</code> (row percentages), <code>"column"</code> (column percentages)
or <code>"full"</code> (to calculate relative frequencies for the full table).</p></dd>


<dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>Optional character string, which includes the name that is used
for printing.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Toggle warnings and messages.</p></dd>


<dt id="arg-select">select<a class="anchor" aria-label="anchor" href="#arg-select"></a></dt>
<dd><p>Variables that will be included when performing the required
tasks. Can be either</p><ul><li><p>a variable specified as a literal variable name (e.g., <code>column_name</code>),</p></li>
<li><p>a string with the variable name (e.g., <code>"column_name"</code>), a character
vector of variable names (e.g., <code>c("col1", "col2", "col3")</code>), or a
character vector of variable names including ranges specified via <code>:</code>
(e.g., <code>c("col1:col3", "col5")</code>),</p></li>
<li><p>for some functions, like <code><a href="extract_column_names.html">data_select()</a></code> or <code><a href="data_rename.html">data_rename()</a></code>, <code>select</code> can
be a named character vector. In this case, the names are used to rename
the columns in the output data frame. See 'Details' in the related
functions to see where this option applies.</p></li>
<li><p>a formula with variable names (e.g., <code>~column_1 + column_2</code>),</p></li>
<li><p>a vector of positive integers, giving the positions counting from the left
(e.g. <code>1</code> or <code>c(1, 3, 5)</code>),</p></li>
<li><p>a vector of negative integers, giving the positions counting from the
right (e.g., <code>-1</code> or <code>-1:-3</code>),</p></li>
<li><p>one of the following select-helpers: <code><a href="https://nathaneastwood.github.io/poorman/reference/select_helpers.html" class="external-link">starts_with()</a></code>, <code><a href="https://nathaneastwood.github.io/poorman/reference/select_helpers.html" class="external-link">ends_with()</a></code>,
<code><a href="https://nathaneastwood.github.io/poorman/reference/select_helpers.html" class="external-link">contains()</a></code>, a range using <code>:</code>, or <code>regex()</code>. <code><a href="https://nathaneastwood.github.io/poorman/reference/select_helpers.html" class="external-link">starts_with()</a></code>,
<code><a href="https://nathaneastwood.github.io/poorman/reference/select_helpers.html" class="external-link">ends_with()</a></code>, and  <code><a href="https://nathaneastwood.github.io/poorman/reference/select_helpers.html" class="external-link">contains()</a></code> accept several patterns, e.g
<code>starts_with("Sep", "Petal")</code>. <code>regex()</code> can be used to define regular
expression patterns.</p></li>
<li><p>a function testing for logical conditions, e.g. <code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">is.numeric()</a></code> (or
<code>is.numeric</code>), or any user-defined function that selects the variables
for which the function returns <code>TRUE</code> (like: <code>foo &lt;- function(x) mean(x) &gt; 3</code>),</p></li>
<li><p>ranges specified via literal variable names, select-helpers (except
<code>regex()</code>) and (user-defined) functions can be negated, i.e. return
non-matching elements, when prefixed with a <code>-</code>, e.g. <code>-ends_with()</code>,
<code>-is.numeric</code> or <code>-(Sepal.Width:Petal.Length)</code>. <strong>Note:</strong> Negation means
that matches are <em>excluded</em>, and thus, the <code>exclude</code> argument can be
used alternatively. For instance, <code>select=-ends_with("Length")</code> (with
<code>-</code>) is equivalent to <code>exclude=ends_with("Length")</code> (no <code>-</code>). In case
negation should not work as expected, use the <code>exclude</code> argument instead.</p></li>
</ul><p>If <code>NULL</code>, selects all columns. Patterns that found no matches are silently
ignored, e.g. <code>extract_column_names(iris, select = c("Species", "Test"))</code>
will just return <code>"Species"</code>.</p></dd>


<dt id="arg-exclude">exclude<a class="anchor" aria-label="anchor" href="#arg-exclude"></a></dt>
<dd><p>See <code>select</code>, however, column names matched by the pattern
from <code>exclude</code> will be excluded instead of selected. If <code>NULL</code> (the default),
excludes no columns.</p></dd>


<dt id="arg-ignore-case">ignore_case<a class="anchor" aria-label="anchor" href="#arg-ignore-case"></a></dt>
<dd><p>Logical, if <code>TRUE</code> and when one of the select-helpers or
a regular expression is used in <code>select</code>, ignores lower/upper case in the
search pattern when matching against variable names.</p></dd>


<dt id="arg-regex">regex<a class="anchor" aria-label="anchor" href="#arg-regex"></a></dt>
<dd><p>Logical, if <code>TRUE</code>, the search pattern from <code>select</code> will be
treated as regular expression. When <code>regex = TRUE</code>, select <em>must</em> be a
character string (or a variable containing a character string) and is not
allowed to be one of the supported select-helpers or a character vector
of length &gt; 1. <code>regex = TRUE</code> is comparable to using one of the two
select-helpers, <code>select = contains()</code> or <code>select = regex()</code>, however,
since the select-helpers may not work when called from inside other
functions (see 'Details'), this argument may be used as workaround.</p></dd>


<dt id="arg-collapse">collapse<a class="anchor" aria-label="anchor" href="#arg-collapse"></a></dt>
<dd><p>Logical, if <code>TRUE</code> collapses multiple tables into one larger
table for printing. This affects only printing, not the returned object.</p></dd>


<dt id="arg-row-names">row.names<a class="anchor" aria-label="anchor" href="#arg-row-names"></a></dt>
<dd><p><code>NULL</code> or a character vector giving the row
    names for the data frame.  Missing values are not allowed.</p></dd>


<dt id="arg-optional">optional<a class="anchor" aria-label="anchor" href="#arg-optional"></a></dt>
<dd><p>logical. If <code>TRUE</code>, setting row names and
    converting column names (to syntactic names: see
    <code><a href="https://rdrr.io/r/base/make.names.html" class="external-link">make.names</a></code>) is optional.  Note that all of <span style="R">R</span>'s
    <span class="pkg">base</span> package <code><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame()</a></code> methods use
    <code>optional</code> only for column names treatment, basically with the
    meaning of <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a>(*, check.names = !optional)</code>.
    See also the <code>make.names</code> argument of the <code>matrix</code> method.</p></dd>


<dt id="arg-stringsasfactors">stringsAsFactors<a class="anchor" aria-label="anchor" href="#arg-stringsasfactors"></a></dt>
<dd><p>logical: should the character vector be converted
    to a factor?</p></dd>


<dt id="arg-add-total">add_total<a class="anchor" aria-label="anchor" href="#arg-add-total"></a></dt>
<dd><p>For crosstables (i.e. when <code>by</code> is not <code>NULL</code>), a row and
column with the total N values are added to the data frame. <code>add_total</code> has
no effect in <code><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame()</a></code> for simple frequency tables.</p></dd>


<dt id="arg-simplify">simplify<a class="anchor" aria-label="anchor" href="#arg-simplify"></a></dt>
<dd><p>Logical, if <code>TRUE</code>, the returned table is simplified to a
single table object if there is only one frequency or contingency table
input. Else, always for multiple table inputs or when <code>simplify = FALSE</code>, a
list of tables is returned. This is only relevant for the <code><a href="https://rdrr.io/r/base/table.html" class="external-link">as.table()</a></code>
methods. To ensure consistent output, the default is <code>FALSE</code>.</p></dd>


<dt id="arg-big-mark">big_mark<a class="anchor" aria-label="anchor" href="#arg-big-mark"></a></dt>
<dd><p>Optional character string, indicating the big mark that is
used for large numbers. If <code>NULL</code> (default), a big mark is added automatically for
large numbers (i.e. numbers with more than 5 digits). If you want to remove
the big mark, set <code>big_mark = ""</code>.</p></dd>


<dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>An object returned by <code>data_tabulate()</code>.</p></dd>


<dt id="arg-format">format<a class="anchor" aria-label="anchor" href="#arg-format"></a></dt>
<dd><p>String, indicating the output format. Can be <code>"markdown"</code>
<code>"html"</code>, or <code>"tt"</code>. <code>format = "html"</code> create an HTML table using the <em>gt</em>
package. <code>format = "tt"</code> creates a <code>tinytable</code> object, which is either
printed as markdown or HTML table, depending on the environment. See
<code><a href="https://easystats.github.io/insight/reference/export_table.html" class="external-link">insight::export_table()</a></code> for details.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame, or a list of data frames, with one frequency table
as data frame per variable.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>There is an <code><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame()</a></code> method, to return the frequency tables as a
data frame. The structure of the returned object is a nested data frame,
where the first column contains name of the variable for which frequencies
were calculated, and the second column is a list column that contains the
frequency tables as data frame. See 'Examples'.</p>
<p>There is also an <code><a href="https://rdrr.io/r/base/table.html" class="external-link">as.table()</a></code> method, which returns a table object with the
frequencies of the variable. This is useful for further statistical analysis,
e.g. for using <code><a href="https://rdrr.io/r/stats/chisq.test.html" class="external-link">chisq.test()</a></code> on the frequency table. See 'Examples'.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>There are <code><a href="https://easystats.github.io/insight/reference/display.html" class="external-link">print_html()</a></code> and <code><a href="https://easystats.github.io/insight/reference/display.html" class="external-link">print_md()</a></code> methods available for printing
frequency or crosstables in HTML and markdown format, e.g.
<code>print_html(data_tabulate(x))</code>. The <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> method for text outputs passes
arguments in <code>...</code> to <code><a href="https://easystats.github.io/insight/reference/export_table.html" class="external-link">insight::export_table()</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="crosstables">Crosstables<a class="anchor" aria-label="anchor" href="#crosstables"></a></h2>


<p>If <code>by</code> is supplied, a crosstable is created. The crosstable includes <code>&lt;NA&gt;</code>
(missing) values by default. The first column indicates values of <code>x</code>, the
first row indicates values of <code>by</code> (including missing values). The last row
and column contain the total frequencies for each row and column, respectively.
Setting <code>remove_na = FALSE</code> will omit missing values from the crosstable.
Setting <code>proportions</code> to <code>"row"</code> or <code>"column"</code> will add row or column
percentages. Setting <code>proportions</code> to <code>"full"</code> will add relative frequencies
for the full table.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># frequency tables -------</span></span></span>
<span class="r-in"><span><span class="co"># ------------------------</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">efc</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># vector/factor</span></span></span>
<span class="r-in"><span><span class="fu">data_tabulate</span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">c172code</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">carer's level of education (efc$c172code)</span> <span style="color: #0000BB;">&lt;numeric&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># total N=100 valid N=90</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Value |  N | Raw % | Valid % | Cumulative %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------+----+-------+---------+-------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     |  8 |     8 |    8.89 |         8.89</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     | 66 |    66 |   73.33 |        82.22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     | 16 |    16 |   17.78 |       100.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;NA&gt;  | 10 |    10 |    &lt;NA&gt; |         &lt;NA&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># drop missing values</span></span></span>
<span class="r-in"><span><span class="fu">data_tabulate</span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">c172code</span>, remove_na <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">carer's level of education (efc$c172code)</span> <span style="color: #0000BB;">&lt;numeric&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># total N=90 valid N=90</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Value |  N | Raw % | Valid % | Cumulative %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------+----+-------+---------+-------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     |  8 |  8.89 |    8.89 |         8.89</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     | 66 | 73.33 |   73.33 |        82.22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     | 16 | 17.78 |   17.78 |       100.00</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># data frame</span></span></span>
<span class="r-in"><span><span class="fu">data_tabulate</span><span class="op">(</span><span class="va">efc</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"e42dep"</span>, <span class="st">"c172code"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">elder's dependency (e42dep)</span> <span style="color: #0000BB;">&lt;categorical&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># total N=100 valid N=97</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Value |  N | Raw % | Valid % | Cumulative %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------+----+-------+---------+-------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     |  2 |     2 |    2.06 |         2.06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     |  4 |     4 |    4.12 |         6.19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     | 28 |    28 |   28.87 |        35.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     | 63 |    63 |   64.95 |       100.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;NA&gt;  |  3 |     3 |    &lt;NA&gt; |         &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">carer's level of education (c172code)</span> <span style="color: #0000BB;">&lt;numeric&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># total N=100 valid N=90</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Value |  N | Raw % | Valid % | Cumulative %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------+----+-------+---------+-------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     |  8 |     8 |    8.89 |         8.89</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     | 66 |    66 |   73.33 |        82.22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     | 16 |    16 |   17.78 |       100.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;NA&gt;  | 10 |    10 |    &lt;NA&gt; |         &lt;NA&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># grouped data frame</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://nathaneastwood.github.io/poorman/" class="external-link">poorman</a></span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">efc</span> <span class="op"><a href="https://nathaneastwood.github.io/poorman/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://nathaneastwood.github.io/poorman/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">c172code</span><span class="op">)</span> <span class="op"><a href="https://nathaneastwood.github.io/poorman/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">data_tabulate</span><span class="op">(</span><span class="st">"e16sex"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">elder's gender (e16sex)</span> <span style="color: #0000BB;">&lt;numeric&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Grouped by c172code (1)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># total N=8 valid N=8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Value | N | Raw % | Valid % | Cumulative %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------+---+-------+---------+-------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     | 5 | 62.50 |   62.50 |        62.50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     | 3 | 37.50 |   37.50 |       100.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;NA&gt;  | 0 |  0.00 |    &lt;NA&gt; |         &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">elder's gender (e16sex)</span> <span style="color: #0000BB;">&lt;numeric&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Grouped by c172code (2)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># total N=66 valid N=66</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Value |  N | Raw % | Valid % | Cumulative %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------+----+-------+---------+-------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     | 32 | 48.48 |   48.48 |        48.48</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     | 34 | 51.52 |   51.52 |       100.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;NA&gt;  |  0 |  0.00 |    &lt;NA&gt; |         &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">elder's gender (e16sex)</span> <span style="color: #0000BB;">&lt;numeric&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Grouped by c172code (3)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># total N=16 valid N=16</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Value |  N | Raw % | Valid % | Cumulative %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------+----+-------+---------+-------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     |  4 |    25 |      25 |           25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     | 12 |    75 |      75 |          100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;NA&gt;  |  0 |     0 |    &lt;NA&gt; |         &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">elder's gender (e16sex)</span> <span style="color: #0000BB;">&lt;numeric&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">Grouped by c172code (NA)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># total N=10 valid N=10</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Value | N | Raw % | Valid % | Cumulative %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------+---+-------+---------+-------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     | 5 |    50 |      50 |           50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     | 5 |    50 |      50 |          100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;NA&gt;  | 0 |     0 |    &lt;NA&gt; |         &lt;NA&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># collapse tables</span></span></span>
<span class="r-in"><span><span class="va">efc</span> <span class="op"><a href="https://nathaneastwood.github.io/poorman/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://nathaneastwood.github.io/poorman/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">c172code</span><span class="op">)</span> <span class="op"><a href="https://nathaneastwood.github.io/poorman/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">data_tabulate</span><span class="op">(</span><span class="st">"e16sex"</span>, collapse <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># Frequency Table</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variable |         Group | Value |  N | Raw % | Valid % | Cumulative %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------+---------------+-------+----+-------+---------+-------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> e16sex   |  c172code (1) |     1 |  5 | 62.50 |   62.50 |        62.50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          |               |     2 |  3 | 37.50 |   37.50 |       100.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          |               |  &lt;NA&gt; |  0 |  0.00 |    &lt;NA&gt; |         &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------+---------------+-------+----+-------+---------+-------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> e16sex   |  c172code (2) |     1 | 32 | 48.48 |   48.48 |        48.48</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          |               |     2 | 34 | 51.52 |   51.52 |       100.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          |               |  &lt;NA&gt; |  0 |  0.00 |    &lt;NA&gt; |         &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------+---------------+-------+----+-------+---------+-------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> e16sex   |  c172code (3) |     1 |  4 |    25 |      25 |           25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          |               |     2 | 12 |    75 |      75 |          100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          |               |  &lt;NA&gt; |  0 |     0 |    &lt;NA&gt; |         &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------+---------------+-------+----+-------+---------+-------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> e16sex   | c172code (NA) |     1 |  5 |    50 |      50 |           50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          |               |     2 |  5 |    50 |      50 |          100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          |               |  &lt;NA&gt; |  0 |     0 |    &lt;NA&gt; |         &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------------------------------------------</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># for larger N's (&gt; 100000), a big mark is automatically added</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">1e6</span>, <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">data_tabulate</span><span class="op">(</span><span class="va">x</span>, name <span class="op">=</span> <span class="st">"Large Number"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">Large Number (x)</span> <span style="color: #0000BB;">&lt;integer&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># total N=1,000,000 valid N=1,000,000</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Value |       N | Raw % | Valid % | Cumulative %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------+---------+-------+---------+-------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     | 333,852 | 33.39 |   33.39 |        33.39</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     | 332,910 | 33.29 |   33.29 |        66.68</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     | 333,238 | 33.32 |   33.32 |       100.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;NA&gt;  |       0 |  0.00 |    &lt;NA&gt; |         &lt;NA&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># to remove the big mark, use "print(..., big_mark = "")"</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">data_tabulate</span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, big_mark <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">x</span> <span style="color: #0000BB;">&lt;integer&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># total N=1000000 valid N=1000000</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Value |      N | Raw % | Valid % | Cumulative %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------+--------+-------+---------+-------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     | 333852 | 33.39 |   33.39 |        33.39</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     | 332910 | 33.29 |   33.29 |        66.68</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     | 333238 | 33.32 |   33.32 |       100.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;NA&gt;  |      0 |  0.00 |    &lt;NA&gt; |         &lt;NA&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># weighted frequencies</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">efc</span><span class="op">$</span><span class="va">weights</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">efc</span><span class="op">)</span>, mean <span class="op">=</span> <span class="fl">1</span>, sd <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">data_tabulate</span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">e42dep</span>, weights <span class="op">=</span> <span class="va">efc</span><span class="op">$</span><span class="va">weights</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">elder's dependency (efc$e42dep)</span> <span style="color: #0000BB;">&lt;categorical&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># total N=105 valid N=100 (weighted)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Value |  N | Raw % | Valid % | Cumulative %</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------+----+-------+---------+-------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     |  3 |  2.86 |       3 |            3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     |  4 |  3.81 |       4 |            7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     | 26 | 24.76 |      26 |           33</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     | 67 | 63.81 |      67 |          100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;NA&gt;  |  5 |  4.76 |    &lt;NA&gt; |         &lt;NA&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># crosstables ------</span></span></span>
<span class="r-in"><span><span class="co"># ------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># add some missing values</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">efc</span><span class="op">$</span><span class="va">e16sex</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample.int</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">efc</span><span class="op">)</span>, <span class="fl">5</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">data_tabulate</span><span class="op">(</span><span class="va">efc</span>, <span class="st">"c172code"</span>, by <span class="op">=</span> <span class="st">"e16sex"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c172code | male | female | &lt;NA&gt; | Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------+------+--------+------+------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        |    5 |      2 |    1 |     8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        |   30 |     34 |    2 |    66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        |    4 |     10 |    2 |    16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;NA&gt;     |    5 |      5 |    0 |    10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------+------+--------+------+------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total    |   44 |     51 |    5 |   100</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># add row and column percentages</span></span></span>
<span class="r-in"><span><span class="fu">data_tabulate</span><span class="op">(</span><span class="va">efc</span>, <span class="st">"c172code"</span>, by <span class="op">=</span> <span class="st">"e16sex"</span>, proportions <span class="op">=</span> <span class="st">"row"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c172code |       male |     female |      &lt;NA&gt; | Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------+------------+------------+-----------+------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        |  5 (62.5%) |  2 (25.0%) | 1 (12.5%) |     8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        | 30 (45.5%) | 34 (51.5%) | 2  (3.0%) |    66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        |  4 (25.0%) | 10 (62.5%) | 2 (12.5%) |    16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;NA&gt;     |  5 (50.0%) |  5 (50.0%) | 0  (0.0%) |    10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------+------------+------------+-----------+------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total    |         44 |         51 |         5 |   100</span>
<span class="r-in"><span><span class="fu">data_tabulate</span><span class="op">(</span><span class="va">efc</span>, <span class="st">"c172code"</span>, by <span class="op">=</span> <span class="st">"e16sex"</span>, proportions <span class="op">=</span> <span class="st">"column"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c172code |       male |     female |      &lt;NA&gt; | Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------+------------+------------+-----------+------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        |  5 (11.4%) |  2  (3.9%) | 1 (20.0%) |     8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        | 30 (68.2%) | 34 (66.7%) | 2 (40.0%) |    66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        |  4  (9.1%) | 10 (19.6%) | 2 (40.0%) |    16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;NA&gt;     |  5 (11.4%) |  5  (9.8%) | 0  (0.0%) |    10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------+------------+------------+-----------+------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total    |         44 |         51 |         5 |   100</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># omit missing values</span></span></span>
<span class="r-in"><span><span class="fu">data_tabulate</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">efc</span><span class="op">$</span><span class="va">c172code</span>,</span></span>
<span class="r-in"><span>  by <span class="op">=</span> <span class="va">efc</span><span class="op">$</span><span class="va">e16sex</span>,</span></span>
<span class="r-in"><span>  proportions <span class="op">=</span> <span class="st">"column"</span>,</span></span>
<span class="r-in"><span>  remove_na <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> efc$c172code |       male |     female | Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -------------+------------+------------+------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            |  5 (12.8%) |  2  (4.3%) |     7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            | 30 (76.9%) | 34 (73.9%) |    64</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3            |  4 (10.3%) | 10 (21.7%) |    14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -------------+------------+------------+------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total        |         39 |         46 |    85</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># round percentages</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">data_tabulate</span><span class="op">(</span><span class="va">efc</span>, <span class="st">"c172code"</span>, by <span class="op">=</span> <span class="st">"e16sex"</span>, proportions <span class="op">=</span> <span class="st">"column"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">out</span>, digits <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c172code |     male |   female |    &lt;NA&gt; | Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------+----------+----------+---------+------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        |  5 (11%) |  2  (4%) | 1 (20%) |     8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        | 30 (68%) | 34 (67%) | 2 (40%) |    66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        |  4  (9%) | 10 (20%) | 2 (40%) |    16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;NA&gt;     |  5 (11%) |  5 (10%) | 0  (0%) |    10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------+----------+----------+---------+------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total    |       44 |       51 |       5 |   100</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># coerce to data frames</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">data_tabulate</span><span class="op">(</span><span class="va">efc</span>, <span class="st">"c172code"</span>, by <span class="op">=</span> <span class="st">"e16sex"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        var        table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 c172code c(1, 2, ....</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span><span class="op">$</span><span class="va">table</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   c172code male female NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        1    5      2  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        2   30     34  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        3    4     10  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     &lt;NA&gt;    5      5  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">result</span>, add_total <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">$</span><span class="va">table</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   c172code male female &lt;NA&gt; Total</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        1    5      2    1     8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        2   30     34    2    66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        3    4     10    2    16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     &lt;NA&gt;    5      5    0    10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    Total   44     51    5   100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># post-processing ------</span></span></span>
<span class="r-in"><span><span class="co"># ----------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">data_tabulate</span><span class="op">(</span><span class="va">efc</span>, <span class="st">"c172code"</span>, by <span class="op">=</span> <span class="st">"e16sex"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># we need to simplify the output, else we get a list of tables</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/chisq.test.html" class="external-link">chisq.test</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">as.table</a></span><span class="op">(</span><span class="va">out</span>, simplify <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Removing NA values from frequency table.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Pearson's Chi-squared test</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> data:  as.table(out, simplify = TRUE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X-squared = 3.5548, df = 2, p-value = 0.1691</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># apply chisq.test to each table</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">data_tabulate</span><span class="op">(</span><span class="va">efc</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c172code"</span>, <span class="st">"e16sex"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">as.table</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span>, <span class="va">chisq.test</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Removing NA values from frequency table.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Chi-squared test for given probabilities</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> data:  X[[i]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X-squared = 65.867, df = 2, p-value = 4.98e-15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Chi-squared test for given probabilities</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> data:  X[[i]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X-squared = 0.51579, df = 1, p-value = 0.4726</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># can also handle grouped data frames</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="data_group.html">data_group</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="st">"am"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">data_tabulate</span><span class="op">(</span><span class="va">d</span>, <span class="st">"cyl"</span>, by <span class="op">=</span> <span class="st">"gear"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">as.table</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`am (0)`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3  4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  1  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  2  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8 12  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $`am (1)`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 6 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 2 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8 0 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://sites.google.com/site/indrajeetspatilmorality/" class="external-link">Indrajeet Patil</a>, <a href="https://www.etiennebacher.com/" class="external-link">Etienne Bacher</a>, <a href="https://dominiquemakowski.github.io/" class="external-link">Dominique Makowski</a>, <a href="https://github.com/strengejacke" class="external-link">Daniel Lüdecke</a>, <a href="https://home.msbstats.info/" class="external-link">Mattan S. Ben-Shachar</a>, <a href="https://wiernik.org/" class="external-link">Brenton M. Wiernik</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.9000.</p>
</div>

    </footer></div>





  </body></html>

