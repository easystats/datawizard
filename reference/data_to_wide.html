<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Reshape (pivot) data from long to wide — data_to_wide • datawizard</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Reshape (pivot) data from long to wide — data_to_wide"><meta property="og:description" content='This function "widens" data, increasing the number of columns and decreasing
the number of rows. This is a dependency-free base-R equivalent of
tidyr::pivot_wider().'><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">datawizard</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.11.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/selection_syntax.html">A quick summary of selection syntax in `{datawizard}`</a>
    </li>
    <li>
      <a href="../articles/standardize_data.html">Data Standardization</a>
    </li>
    <li>
      <a href="../articles/tidyverse_translation.html">Coming from 'tidyverse'</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/easystats/datawizard/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Reshape (pivot) data from long to wide</h1>
    <small class="dont-index">Source: <a href="https://github.com/easystats/datawizard/blob/HEAD/R/data_to_wide.R" class="external-link"><code>R/data_to_wide.R</code></a></small>
    <div class="hidden name"><code>data_to_wide.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function "widens" data, increasing the number of columns and decreasing
the number of rows. This is a dependency-free base-R equivalent of
<code><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">tidyr::pivot_wider()</a></code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">data_to_wide</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  id_cols <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  values_from <span class="op">=</span> <span class="st">"Value"</span>,</span>
<span>  names_from <span class="op">=</span> <span class="st">"Name"</span>,</span>
<span>  names_sep <span class="op">=</span> <span class="st">"_"</span>,</span>
<span>  names_prefix <span class="op">=</span> <span class="st">""</span>,</span>
<span>  names_glue <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  values_fill <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">reshape_wider</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  id_cols <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  values_from <span class="op">=</span> <span class="st">"Value"</span>,</span>
<span>  names_from <span class="op">=</span> <span class="st">"Name"</span>,</span>
<span>  names_sep <span class="op">=</span> <span class="st">"_"</span>,</span>
<span>  names_prefix <span class="op">=</span> <span class="st">""</span>,</span>
<span>  names_glue <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  values_fill <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>A data frame to convert to wide format, so that it has more
columns and fewer rows post-widening than pre-widening.</p></dd>


<dt>id_cols</dt>
<dd><p>The name of the column that identifies the rows in the data
by which observations are grouped and the gathered data is spread into new
columns. Usually, this is a variable containing an ID for observations that
have been repeatedly measured. If <code>NULL</code>, it will use all remaining columns
that are not in <code>names_from</code> or <code>values_from</code> as ID columns. <code>id_cols</code> can
also be a character vector with more than one name of identifier columns. See
also 'Details' and 'Examples'.</p></dd>


<dt>values_from</dt>
<dd><p>The name of the columns in the original data that contains
the values used to fill the new columns created in the widened data.</p></dd>


<dt>names_from</dt>
<dd><p>The name of the column in the original data whose values
will be used for naming the new columns created in the widened data. Each
unique value in this column will become the name of one of these new columns.
In case <code>names_prefix</code> is provided, column names will be concatenated with
the string given in <code>names_prefix</code>.</p></dd>


<dt>names_sep</dt>
<dd><p>If <code>names_from</code> or <code>values_from</code> contains multiple variables,
this will be used to join their values together into a single string to use
as a column name.</p></dd>


<dt>names_prefix</dt>
<dd><p>String added to the start of every variable name. This is
particularly useful if <code>names_from</code> is a numeric vector and you want to create
syntactic variable names.</p></dd>


<dt>names_glue</dt>
<dd><p>Instead of <code>names_sep</code> and <code>names_prefix</code>, you can supply a
<a href="https://glue.tidyverse.org/index.html" class="external-link">glue specification</a> that uses the
<code>names_from</code> columns to create custom column names. Note that the only
delimiters supported by <code>names_glue</code> are curly brackets, <code>{</code> and <code>}</code>.</p></dd>


<dt>values_fill</dt>
<dd><p>Optionally, a (scalar) value that will be used to replace
missing values in the new columns created.</p></dd>


<dt>verbose</dt>
<dd><p>Toggle warnings.</p></dd>


<dt>...</dt>
<dd><p>Not used for now.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>If a tibble was provided as input, <code>data_to_wide()</code> also returns a
tibble. Otherwise, it returns a data frame.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Reshaping data into wide format usually means that the input data frame is
in <em>long</em> format, where multiple measurements taken on the same subject are
stored in multiple rows. The wide format stores the same information in a
single row, with each measurement stored in a separate column. Thus, the
necessary information for <code>data_to_wide()</code> is:</p><ul><li><p>The name of the column(s) that identify the groups or repeated measurements
(<code>id_cols</code>).</p></li>
<li><p>The name of the column whose <em>values</em> will become the new column names
(<code>names_from</code>). Since these values may not necessarily reflect appropriate
column names, you can use <code>names_prefix</code> to add a prefix to each newly
created column name.</p></li>
<li><p>The name of the column that contains the values (<code>values_from</code>) for the
new columns that are created by <code>names_from</code>.</p></li>
</ul><p>In other words: repeated measurements, as indicated by <code>id_cols</code>, that are
saved into the column <code>values_from</code> will be spread into new columns, which
will be named after the values in <code>names_from</code>. See also 'Examples'.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index">
<ul><li><p>Functions to rename stuff: <code><a href="data_rename.html">data_rename()</a></code>, <code><a href="data_rename.html">data_rename_rows()</a></code>, <code><a href="data_rename.html">data_addprefix()</a></code>, <code><a href="data_rename.html">data_addsuffix()</a></code></p></li>
<li><p>Functions to reorder or remove columns: <code><a href="data_relocate.html">data_reorder()</a></code>, <code><a href="data_relocate.html">data_relocate()</a></code>, <code><a href="data_relocate.html">data_remove()</a></code></p></li>
<li><p>Functions to reshape, pivot or rotate data frames: <code><a href="data_to_long.html">data_to_long()</a></code>, <code>data_to_wide()</code>, <code><a href="data_rotate.html">data_rotate()</a></code></p></li>
<li><p>Functions to recode data: <code><a href="rescale.html">rescale()</a></code>, <code><a href="reverse.html">reverse()</a></code>, <code><a href="categorize.html">categorize()</a></code>,
<code><a href="recode_values.html">recode_values()</a></code>, <code><a href="slide.html">slide()</a></code></p></li>
<li><p>Functions to standardize, normalize, rank-transform: <code><a href="center.html">center()</a></code>, <code><a href="standardize.html">standardize()</a></code>, <code><a href="normalize.html">normalize()</a></code>, <code><a href="ranktransform.html">ranktransform()</a></code>, <code><a href="winsorize.html">winsorize()</a></code></p></li>
<li><p>Split and merge data frames: <code><a href="data_partition.html">data_partition()</a></code>, <code><a href="data_merge.html">data_merge()</a></code></p></li>
<li><p>Functions to find or select columns: <code><a href="extract_column_names.html">data_select()</a></code>, <code><a href="extract_column_names.html">extract_column_names()</a></code></p></li>
<li><p>Functions to filter rows: <code><a href="data_match.html">data_match()</a></code>, <code><a href="data_match.html">data_filter()</a></code></p></li>
</ul></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">data_long</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span>header <span class="op">=</span> <span class="cn">TRUE</span>, text <span class="op">=</span> <span class="st">"</span></span></span>
<span class="r-in"><span><span class="st"> subject sex condition measurement</span></span></span>
<span class="r-in"><span><span class="st">       1   M   control         7.9</span></span></span>
<span class="r-in"><span><span class="st">       1   M     cond1        12.3</span></span></span>
<span class="r-in"><span><span class="st">       1   M     cond2        10.7</span></span></span>
<span class="r-in"><span><span class="st">       2   F   control         6.3</span></span></span>
<span class="r-in"><span><span class="st">       2   F     cond1        10.6</span></span></span>
<span class="r-in"><span><span class="st">       2   F     cond2        11.1</span></span></span>
<span class="r-in"><span><span class="st">       3   F   control         9.5</span></span></span>
<span class="r-in"><span><span class="st">       3   F     cond1        13.1</span></span></span>
<span class="r-in"><span><span class="st">       3   F     cond2        13.8</span></span></span>
<span class="r-in"><span><span class="st">       4   M   control        11.5</span></span></span>
<span class="r-in"><span><span class="st">       4   M     cond1        13.4</span></span></span>
<span class="r-in"><span><span class="st">       4   M     cond2        12.9"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># converting long data into wide format</span></span></span>
<span class="r-in"><span><span class="fu">data_to_wide</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">data_long</span>,</span></span>
<span class="r-in"><span>  id_cols <span class="op">=</span> <span class="st">"subject"</span>,</span></span>
<span class="r-in"><span>  names_from <span class="op">=</span> <span class="st">"condition"</span>,</span></span>
<span class="r-in"><span>  values_from <span class="op">=</span> <span class="st">"measurement"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   subject control cond1 cond2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       1     7.9  12.3  10.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       2     6.3  10.6  11.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       3     9.5  13.1  13.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       4    11.5  13.4  12.9</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># converting long data into wide format with custom column names</span></span></span>
<span class="r-in"><span><span class="fu">data_to_wide</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">data_long</span>,</span></span>
<span class="r-in"><span>  id_cols <span class="op">=</span> <span class="st">"subject"</span>,</span></span>
<span class="r-in"><span>  names_from <span class="op">=</span> <span class="st">"condition"</span>,</span></span>
<span class="r-in"><span>  values_from <span class="op">=</span> <span class="st">"measurement"</span>,</span></span>
<span class="r-in"><span>  names_prefix <span class="op">=</span> <span class="st">"Var."</span>,</span></span>
<span class="r-in"><span>  names_sep <span class="op">=</span> <span class="st">"."</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   subject Var.control Var.cond1 Var.cond2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       1         7.9      12.3      10.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       2         6.3      10.6      11.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       3         9.5      13.1      13.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       4        11.5      13.4      12.9</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># converting long data into wide format, combining multiple columns</span></span></span>
<span class="r-in"><span><span class="va">production</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  product <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AI"</span>, <span class="st">"EI"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  year <span class="op">=</span> <span class="fl">2000</span><span class="op">:</span><span class="fl">2014</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">production</span> <span class="op">&lt;-</span> <span class="fu"><a href="data_match.html">data_filter</a></span><span class="op">(</span><span class="va">production</span>, <span class="op">(</span><span class="va">product</span> <span class="op">==</span> <span class="st">"A"</span> <span class="op">&amp;</span> <span class="va">country</span> <span class="op">==</span> <span class="st">"AI"</span><span class="op">)</span> <span class="op">|</span> <span class="va">product</span> <span class="op">==</span> <span class="st">"B"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">production</span><span class="op">$</span><span class="va">production</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">production</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">data_to_wide</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">production</span>,</span></span>
<span class="r-in"><span>  names_from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"product"</span>, <span class="st">"country"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  values_from <span class="op">=</span> <span class="st">"production"</span>,</span></span>
<span class="r-in"><span>  names_glue <span class="op">=</span> <span class="st">"prod_{product}_{country}"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    year  prod_A_AI   prod_B_AI   prod_B_EI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  2000 -0.7843822 -0.73350322 -0.21586539</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  2001 -0.3349128 -1.08569914 -0.08542326</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  2002  1.0706105 -0.14539355 -1.16554485</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  2003 -0.8185157  0.68493608 -0.32005642</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  2004 -1.3115224 -0.59960833 -0.12941069</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  2005  0.8867361 -0.15139596  0.32979120</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  2006 -3.2273228 -0.77179177  0.28654857</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  2007 -1.2205120  0.43455038  0.80017687</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  2008 -0.1639310  1.24291877 -0.93438506</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 2009  0.3937087  0.40363146 -0.88643672</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 2010 -1.3189376  0.02884391 -0.43212979</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 2011  1.6898725  1.22839278  0.27602348</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 2012 -1.0489755 -0.52086934  1.62320252</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 2013 -1.0700682  1.68588724 -0.24168977</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 2014 -0.4682005 -0.77297823  2.14991934</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># using the "sleepstudy" dataset</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sleepstudy</span>, package <span class="op">=</span> <span class="st">"lme4"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># the sleepstudy data contains repeated measurements of average reaction</span></span></span>
<span class="r-in"><span><span class="co"># times for each subjects over multiple days, in a sleep deprivation study.</span></span></span>
<span class="r-in"><span><span class="co"># It is in long-format, i.e. each row corresponds to a single measurement.</span></span></span>
<span class="r-in"><span><span class="co"># The variable "Days" contains the timepoint of the measurement, and</span></span></span>
<span class="r-in"><span><span class="co"># "Reaction" contains the measurement itself. Converting this data to wide</span></span></span>
<span class="r-in"><span><span class="co"># format will create a new column for each day, with the reaction time as the</span></span></span>
<span class="r-in"><span><span class="co"># value.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sleepstudy</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Reaction Days Subject</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 249.5600    0     308</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 258.7047    1     308</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 250.8006    2     308</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 321.4398    3     308</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 356.8519    4     308</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 414.6901    5     308</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">data_to_wide</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">sleepstudy</span>,</span></span>
<span class="r-in"><span>  id_cols <span class="op">=</span> <span class="st">"Subject"</span>,</span></span>
<span class="r-in"><span>  names_from <span class="op">=</span> <span class="st">"Days"</span>,</span></span>
<span class="r-in"><span>  values_from <span class="op">=</span> <span class="st">"Reaction"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Subject        0        1        2        3        4        5        6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      308 249.5600 258.7047 250.8006 321.4398 356.8519 414.6901 382.2038</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      309 222.7339 205.2658 202.9778 204.7070 207.7161 215.9618 213.6303</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      310 199.0539 194.3322 234.3200 232.8416 229.3074 220.4579 235.4208</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      330 321.5426 300.4002 283.8565 285.1330 285.7973 297.5855 280.2396</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      331 287.6079 285.0000 301.8206 320.1153 316.2773 293.3187 290.0750</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      332 234.8606 242.8118 272.9613 309.7688 317.4629 309.9976 454.1619</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      333 283.8424 289.5550 276.7693 299.8097 297.1710 338.1665 332.0265</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      334 265.4731 276.2012 243.3647 254.6723 279.0244 284.1912 305.5248</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      335 241.6083 273.9472 254.4907 270.8021 251.4519 254.6362 245.4523</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     337 312.3666 313.8058 291.6112 346.1222 365.7324 391.8385 404.2601</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11     349 236.1032 230.3167 238.9256 254.9220 250.7103 269.7744 281.5648</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12     350 256.2968 243.4543 256.2046 255.5271 268.9165 329.7247 379.4445</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13     351 250.5265 300.0576 269.8939 280.5891 271.8274 304.6336 287.7466</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14     352 221.6771 298.1939 326.8785 346.8555 348.7402 352.8287 354.4266</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15     369 271.9235 268.4369 257.2424 277.6566 314.8222 317.2135 298.1353</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16     370 225.2640 234.5235 238.9008 240.4730 267.5373 344.1937 281.1481</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17     371 269.8804 272.4428 277.8989 281.7895 279.1705 284.5120 259.2658</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18     372 269.4117 273.4740 297.5968 310.6316 287.1726 329.6076 334.4818</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           7        8        9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  290.1486 430.5853 466.3535</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  217.7272 224.2957 237.3142</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  255.7511 261.0125 247.5153</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  318.2613 305.3495 354.0487</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  334.8177 293.7469 371.5811</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  346.8311 330.3003 253.8644</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  348.8399 333.3600 362.0428</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  331.5229 335.7469 377.2990</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  235.3110 235.7541 237.2466</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 416.6923 455.8643 458.9167</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 308.1020 336.2806 351.6451</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 362.9184 394.4872 389.0527</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 266.5955 321.5418 347.5655</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 360.4326 375.6406 388.5417</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 348.1229 340.2800 366.5131</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 347.5855 365.1630 372.2288</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 304.6306 350.7807 369.4692</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18 343.2199 369.1417 364.1236</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># clearer column names</span></span></span>
<span class="r-in"><span><span class="fu">data_to_wide</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">sleepstudy</span>,</span></span>
<span class="r-in"><span>  id_cols <span class="op">=</span> <span class="st">"Subject"</span>,</span></span>
<span class="r-in"><span>  names_from <span class="op">=</span> <span class="st">"Days"</span>,</span></span>
<span class="r-in"><span>  values_from <span class="op">=</span> <span class="st">"Reaction"</span>,</span></span>
<span class="r-in"><span>  names_prefix <span class="op">=</span> <span class="st">"Reaction_Day_"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Subject Reaction_Day_0 Reaction_Day_1 Reaction_Day_2 Reaction_Day_3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      308       249.5600       258.7047       250.8006       321.4398</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      309       222.7339       205.2658       202.9778       204.7070</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      310       199.0539       194.3322       234.3200       232.8416</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      330       321.5426       300.4002       283.8565       285.1330</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      331       287.6079       285.0000       301.8206       320.1153</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      332       234.8606       242.8118       272.9613       309.7688</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      333       283.8424       289.5550       276.7693       299.8097</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      334       265.4731       276.2012       243.3647       254.6723</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      335       241.6083       273.9472       254.4907       270.8021</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     337       312.3666       313.8058       291.6112       346.1222</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11     349       236.1032       230.3167       238.9256       254.9220</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12     350       256.2968       243.4543       256.2046       255.5271</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13     351       250.5265       300.0576       269.8939       280.5891</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14     352       221.6771       298.1939       326.8785       346.8555</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15     369       271.9235       268.4369       257.2424       277.6566</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16     370       225.2640       234.5235       238.9008       240.4730</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17     371       269.8804       272.4428       277.8989       281.7895</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18     372       269.4117       273.4740       297.5968       310.6316</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Reaction_Day_4 Reaction_Day_5 Reaction_Day_6 Reaction_Day_7 Reaction_Day_8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        356.8519       414.6901       382.2038       290.1486       430.5853</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        207.7161       215.9618       213.6303       217.7272       224.2957</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        229.3074       220.4579       235.4208       255.7511       261.0125</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4        285.7973       297.5855       280.2396       318.2613       305.3495</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5        316.2773       293.3187       290.0750       334.8177       293.7469</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6        317.4629       309.9976       454.1619       346.8311       330.3003</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7        297.1710       338.1665       332.0265       348.8399       333.3600</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8        279.0244       284.1912       305.5248       331.5229       335.7469</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9        251.4519       254.6362       245.4523       235.3110       235.7541</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10       365.7324       391.8385       404.2601       416.6923       455.8643</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11       250.7103       269.7744       281.5648       308.1020       336.2806</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12       268.9165       329.7247       379.4445       362.9184       394.4872</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13       271.8274       304.6336       287.7466       266.5955       321.5418</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14       348.7402       352.8287       354.4266       360.4326       375.6406</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15       314.8222       317.2135       298.1353       348.1229       340.2800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16       267.5373       344.1937       281.1481       347.5855       365.1630</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17       279.1705       284.5120       259.2658       304.6306       350.7807</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18       287.1726       329.6076       334.4818       343.2199       369.1417</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Reaction_Day_9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        466.3535</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        237.3142</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        247.5153</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4        354.0487</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5        371.5811</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6        253.8644</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7        362.0428</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8        377.2990</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9        237.2466</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10       458.9167</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11       351.6451</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12       389.0527</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13       347.5655</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14       388.5417</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15       366.5131</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16       372.2288</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17       369.4692</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18       364.1236</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># For unequal group sizes, missing information is filled with NA</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">sleepstudy</span>, <span class="va">Days</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">9</span>, <span class="fl">11</span><span class="op">:</span><span class="fl">13</span>, <span class="fl">16</span><span class="op">:</span><span class="fl">17</span>, <span class="fl">21</span><span class="op">)</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># long format, different number of "Subjects"</span></span></span>
<span class="r-in"><span><span class="va">d</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Reaction Days Subject</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  249.5600    0     308</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  258.7047    1     308</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  250.8006    2     308</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  321.4398    3     308</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  356.8519    4     308</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 222.7339    0     309</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 205.2658    1     309</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 202.9778    2     309</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 204.7070    3     309</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 199.0539    0     310</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22 194.3322    1     310</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 234.3200    2     310</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31 321.5426    0     330</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32 300.4002    1     330</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41 287.6079    0     331</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">data_to_wide</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">d</span>,</span></span>
<span class="r-in"><span>  id_cols <span class="op">=</span> <span class="st">"Subject"</span>,</span></span>
<span class="r-in"><span>  names_from <span class="op">=</span> <span class="st">"Days"</span>,</span></span>
<span class="r-in"><span>  values_from <span class="op">=</span> <span class="st">"Reaction"</span>,</span></span>
<span class="r-in"><span>  names_prefix <span class="op">=</span> <span class="st">"Reaction_Day_"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Subject Reaction_Day_0 Reaction_Day_1 Reaction_Day_2 Reaction_Day_3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     308       249.5600       258.7047       250.8006       321.4398</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     309       222.7339       205.2658       202.9778       204.7070</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     310       199.0539       194.3322       234.3200             NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     330       321.5426       300.4002             NA             NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     331       287.6079             NA             NA             NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Reaction_Day_4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       356.8519</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2             NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3             NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4             NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5             NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># filling missing values with 0</span></span></span>
<span class="r-in"><span><span class="fu">data_to_wide</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">d</span>,</span></span>
<span class="r-in"><span>  id_cols <span class="op">=</span> <span class="st">"Subject"</span>,</span></span>
<span class="r-in"><span>  names_from <span class="op">=</span> <span class="st">"Days"</span>,</span></span>
<span class="r-in"><span>  values_from <span class="op">=</span> <span class="st">"Reaction"</span>,</span></span>
<span class="r-in"><span>  names_prefix <span class="op">=</span> <span class="st">"Reaction_Day_"</span>,</span></span>
<span class="r-in"><span>  values_fill <span class="op">=</span> <span class="fl">0</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Subject Reaction_Day_0 Reaction_Day_1 Reaction_Day_2 Reaction_Day_3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     308       249.5600       258.7047       250.8006       321.4398</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     309       222.7339       205.2658       202.9778       204.7070</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     310       199.0539       194.3322       234.3200         0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     330       321.5426       300.4002         0.0000         0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     331       287.6079         0.0000         0.0000         0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Reaction_Day_4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       356.8519</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         0.0000</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Indrajeet Patil, Etienne Bacher, Dominique Makowski, Daniel Lüdecke, Mattan S. Ben-Shachar, Brenton M. Wiernik.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

